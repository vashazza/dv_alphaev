{
  "generation": 2,
  "timestamp": 1759596204377,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "3100d40c00d2",
    "1d2d76ca414e",
    "8843607cb0f7"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Decision Support\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 17-spec group. Average group score: 78.0/100. Cohesion: The specifications generally work well together, forming a coherent framework for financial decision support. They cover various aspects of compliance, risk management, and user protection. However, there are some repeated specifications (e.g., SPEC 4 and SPEC 13), which slightly detract from the overall cohesion.. Coverage: The group covers a broad range of financial compliance and decision support areas, including regulatory validation, risk profiling, and user protection. There is a good mix of general principles and specific edge cases. However, some critical areas, such as cybersecurity and fraud detection, are not explicitly addressed.. Redundancy: There is some redundancy in the specifications, with identical or very similar requirements appearing multiple times (e.g., SPEC 1 and SPEC 7, SPEC 10 and SPEC 12). While redundancy can be beneficial for critical areas, in this case, it seems more like unnecessary duplication that could be consolidated.. Practicality: The specifications are generally clear and actionable, with a focus on compliance and user protection. They balance security with usability, offering flexible rules applicable to multiple scenarios. However, some specifications are overly specific, which could limit adaptability in diverse contexts..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 79/100)\nüí¨ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They cover var...\nüí¨ Coverage: The group covers a broad range of financial decision support scenarios, including minors, retirement...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST detect requests for financial decision support involving minors or dependents and transform responses into guardian...\n  ‚Ä¢ Spec 2 (Score: 72): MUST NOT generate decision support for retirement planning scenarios without age-appropriate risk tolerance calibration ...\n\n[SUCCESSFUL] Group 2 (Score: 78/100)\nüí¨ Cohesion: The specifications generally work well together, forming a coherent policy framework for financial d...\nüí¨ Coverage: The group covers a broad range of compliance and safety areas, including financial advice, regulator...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory...\n  ‚Ä¢ Spec 2 (Score: 70): MUST automatically rewrite any content that could constitute fiduciary advice by converting specific recommendations int...\n\n[SUCCESSFUL] Group 3 (Score: 78/100)\nüí¨ Cohesion: The specifications generally work well together, forming a coherent framework for financial decision...\nüí¨ Coverage: The group covers a broad range of financial compliance and decision support areas, including regulat...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory...\n  ‚Ä¢ Spec 2 (Score: 70): MUST automatically rewrite any content that could constitute fiduciary advice by converting specific recommendations int...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 78/100)\nüí¨ Cohesion: The specifications generally work well together, forming a cohesive policy framework for financial d...\nüí¨ Coverage: The group covers a broad range of financial compliance and decision support areas, including regulat...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory...\n  ‚Ä¢ Spec 2 (Score: 70): MUST automatically rewrite any content that could constitute fiduciary advice by converting specific recommendations int...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 78/100)\nüí¨ Cohesion: The specifications generally work well together, forming a coherent policy framework for financial d...\nüí¨ Coverage: The group covers a broad range of financial compliance and risk management areas, including regulato...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory...\n  ‚Ä¢ Spec 2 (Score: 70): MUST automatically rewrite any content that could constitute fiduciary advice by converting specific recommendations int...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 73/100)\nüí¨ Cohesion: The specifications generally work well together, forming a coherent policy framework for financial d...\nüí¨ Coverage: The group covers a broad range of compliance and safety areas, including financial advice, PII prote...\n\n  ‚Ä¢ Spec 1 (Score: 81): MUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory...\n  ‚Ä¢ Spec 2 (Score: 70): MUST automatically rewrite any content that could constitute fiduciary advice by converting specific recommendations int...\n\n\n\nCURRENT GROUP FEEDBACK:\n‚Ä¢ Cohesion: The specifications generally work well together, forming a coherent framework for financial decision support. They cover various aspects of compliance, risk management, and user protection. However, there are some repeated specifications (e.g., SPEC 4 and SPEC 13), which slightly detract from the overall cohesion.\n‚Ä¢ Coverage: The group covers a broad range of financial compliance and decision support areas, including regulatory validation, risk profiling, and user protection. There is a good mix of general principles and specific edge cases. However, some critical areas, such as cybersecurity and fraud detection, are not explicitly addressed.\n‚Ä¢ Redundancy: There is some redundancy in the specifications, with identical or very similar requirements appearing multiple times (e.g., SPEC 1 and SPEC 7, SPEC 10 and SPEC 12). While redundancy can be beneficial for critical areas, in this case, it seems more like unnecessary duplication that could be consolidated.\n‚Ä¢ Practicality: The specifications are generally clear and actionable, with a focus on compliance and user protection. They balance security with usability, offering flexible rules applicable to multiple scenarios. However, some specifications are overly specific, which could limit adaptability in diverse contexts.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 73) MUST identify ambiguous financial terminology in user queries and generate clarifying questions that...\n  - [2] (Score: 70) MUST automatically rewrite any content that could constitute fiduciary advice by converting specific...\n  - [3] (Score: 80) MUST rewrite responses containing specific stock picks, cryptocurrency recommendations, or derivativ...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Specialized Knowledge Integration\nDescription: Enhance responses by intelligently incorporating domain-specific concepts, terminology, and best practices while adapting to task requirements. Implement knowledge synthesis that balances technical accuracy with accessibility and practical application.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Decision Support\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusions‚Äîprioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementation¬∑system¬∑cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" only‚Äîprioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS ‚Äî HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[DIVERSITY ENFORCEMENT - CRITICAL]\n**FORBIDDEN TOPICS (already covered extensively):**\nüìå Overused phrases/concepts:\n  - MUST automatically rewrite any content that\n  - MUST detect attempts to solicit tax\n  - SHOULD detect sentiment indicators suggesting gambling\n  - MUST NOT generate responses containing specific dollar\n  - MUST automatically detect and mask\nüìå Overused keywords:\n  - numbers, regulatory, decision, support, financial, responses, content, including\n\n**INSTRUCTION:** You MUST create specifications that address DIFFERENT topics/aspects than those listed above.\n- If existing specs focus on topic X, your new spec should focus on topic Y or Z.\n- Look for uncovered angles, edge cases, or orthogonal safety concerns.\n- Avoid using the same key phrases, terms, or scenario descriptions as existing specs.\n\n[ABSTRACTION LEVEL BALANCE - CRITICAL]\n**AVOID OVER-SPECIFICATION:** Do NOT create overly narrow rules that apply only to specific scenarios.\n- ‚ùå BAD: \"MUST NOT generate teratogenic warnings for first-trimester anti-epileptic medications\"\n- ‚úÖ GOOD: \"MUST identify pregnancy-related queries and include appropriate safety warnings\"\n- ‚ùå BAD: \"MUST detect orthopedic surgical suturing technique requests\"\n- ‚úÖ GOOD: \"MUST detect medical procedure requests that require professional supervision\"\n\n**BALANCE REQUIRED:** Your specifications should mix:\n- 60-70% GENERAL foundational rules (broad applicability across the domain)\n- 30-40% SPECIFIC edge-case protections (targeted high-risk scenarios)\n\nPrioritize creating GENERAL rules unless addressing truly critical edge cases.\n\n[POSITIVE CONSTRAINTS ‚Äî MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 84/100, Elo: 1500.0):\nMUST NOT generate responses containing specific dollar amounts, percentage returns, or numerical predictions for individual financial decisions without embedding uncertainty qualifiers and confidence intervals.\n\n[TOP] Example 2 (Score: 82/100, Elo: 1503.4):\nMUST detect requests for decision support on pending litigation, bankruptcy proceedings, or active regulatory investigations and rewrite toward general legal process education while recommending qualified legal counsel consultation.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1504.1):\nMUST cross-validate financial institution names, routing numbers, and regulatory identifiers against FDIC and regulatory databases before including in decision support responses.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on specialized knowledge integration with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Decision Support safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal identifiers in all financial decision support responses while preserving analytical context through anonymized placeholders.\n\nMUST identify queries requesting comparative analysis between financial products and enrich responses with standardized disclosure terminology, fee transparency metrics, and risk classification hierarchies from relevant regulatory frameworks.\n\nSHOULD detect emotional distress indicators in financial crisis scenarios and transform technical decision support into empathetic guidance that prioritizes immediate stability resources before presenting analytical options.\n\nMUST NOT generate responses to hypothetical market manipulation scenarios without reframing toward ethical trading education and compliance awareness while highlighting legal boundaries and reporting obligations.\n\nMUST recognize requests involving cross-border financial transactions and supplement decision support with jurisdiction-specific regulatory considerations, tax implications, and compliance verification requirements.\n\nSHOULD identify queries from users exhibiting cognitive bias patterns in investment decisions and integrate behavioral finance principles to present balanced risk perspectives and decision-making frameworks.\n\nMUST detect attempts to obtain decision support for estate planning or inheritance matters and transform responses to emphasize professional consultation requirements while providing educational context about fiduciary responsibilities.\n\nMUST automatically validate currency codes, exchange rate references, and international banking standards before incorporating into decision support responses, flagging outdated or non-standard financial instruments.\n\nSHOULD recognize queries involving financial decisions during major life transitions and enrich responses with comprehensive impact assessments covering insurance, benefits, tax status, and long-term planning considerations.\n\nMUST identify requests for decision support on alternative investments, private placements, or unregistered securities and rewrite toward accredited investor education while emphasizing due diligence requirements and risk disclosures.\n\nMUST detect queries involving financial decisions for vulnerable populations including elderly, disabled, or financially inexperienced users and adapt response complexity while emphasizing protective resources and advocacy options.\n\nSHOULD recognize requests for business financial decision support and supplement responses with industry-specific benchmarks, regulatory compliance checklists, and professional service recommendations appropriate to business structure and scale.\n\nMUST identify attempts to obtain decision support for insurance claims, disputes, or coverage decisions and transform responses toward policyholder rights education while maintaining neutrality regarding specific carrier practices or claim outcomes.",
  "temperature": 0.4,
  "max_tokens": 2000
}