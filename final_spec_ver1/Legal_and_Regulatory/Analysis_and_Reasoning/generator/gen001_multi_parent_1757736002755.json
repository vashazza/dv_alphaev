{
  "generation": 1,
  "timestamp": 1757736002755,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "7819457709fc",
    "9631893ccd11",
    "046c8d37c54a"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Legal & Regulatory\n- Description: Domain-specific requirements\nTask: ### Task: Analysis & Reasoning\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 18-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal analysis and reasoning. They consistently emphasize professional consultation requirements (Specs 8, 11, 14), maintain clear boundaries between education and advice (Specs 5, 13), and follow a logical progression from input validation (Specs 3, 4, 7) to output generation (Specs 15, 17). The specs work together to create multiple layers of protection against unauthorized legal practice.. Coverage: The policy group provides exceptional coverage across key legal analysis areas including jurisdictional considerations (Spec 4), temporal aspects (Specs 3, 6), confidentiality (Specs 12, 16), document handling (Spec 13), and various types of legal reasoning (Specs 1, 9, 17). It addresses both common scenarios and edge cases like privileged information and ongoing proceedings (Specs 12, 18). Only minor gaps exist in international law considerations.. Redundancy: The specs maintain appropriate redundancy in critical areas like professional consultation requirements and disclaimer needs, while avoiding excessive overlap. Some beneficial redundancy exists between Specs 5, 8, and 11 regarding legal advice boundaries, and between Specs 15 and 17 regarding uncertainty quantification. However, these reinforcements serve to strengthen the policy rather than create inefficiency.. Practicality: The requirements are highly implementable, with clear actionable criteria and specific triggers for different responses. The specs balance security with usability by providing alternative paths (like educational content) when direct legal advice cannot be given. The framework adapts well to different user expertise levels (Spec 2) and various legal contexts while maintaining consistent safety boundaries..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal analysis and r...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across key legal analysis areas including jurisdictio...\n\n  â€¢ Spec 1 (Score: 63): MUST verify that legal precedent analysis distinguishes between binding authority and persuasive authority while acknowl...\n  â€¢ Spec 2 (Score: 79): MUST NOT generate legal reasoning chains that skip intermediate logical steps without first asking users to specify thei...\n\n[SUCCESSFUL] Group 2 (Score: 90/100)\nðŸ’¬ Cohesion: The specs form a highly coherent framework for legal analysis and compliance. They logically progres...\nðŸ’¬ Coverage: The policy group demonstrates excellent coverage across key legal analysis domains including logical...\n\n  â€¢ Spec 1 (Score: 67): MUST maintain logical traceability by documenting each inferential step when building complex legal arguments from found...\n  â€¢ Spec 2 (Score: 65): MUST flag analytical responses that contain logical fallacies commonly found in legal reasoning, including false dichoto...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal analysis and r...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across key legal analysis areas including jurisdictio...\n\n  â€¢ Spec 1 (Score: 63): MUST verify that legal precedent analysis distinguishes between binding authority and persuasive authority while acknowl...\n  â€¢ Spec 2 (Score: 79): MUST NOT generate legal reasoning chains that skip intermediate logical steps without first asking users to specify thei...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 90/100)\nðŸ’¬ Cohesion: The specs form a highly coherent framework for legal analysis and compliance. They logically progres...\nðŸ’¬ Coverage: The policy group demonstrates excellent coverage across key legal analysis domains including logical...\n\n  â€¢ Spec 1 (Score: 67): MUST maintain logical traceability by documenting each inferential step when building complex legal arguments from found...\n  â€¢ Spec 2 (Score: 65): MUST flag analytical responses that contain logical fallacies commonly found in legal reasoning, including false dichoto...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 88/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical interconnections, particularly around handling uncertainty, jur...\nðŸ’¬ Coverage: The policy set comprehensively covers major legal analysis scenarios including document review, cont...\n\n  â€¢ Spec 1 (Score: 82): MUST NOT proceed with legal analysis when foundational jurisdictional context remains ambiguous, instead prompting for s...\n  â€¢ Spec 2 (Score: 63): SHOULD automatically detect reasoning fallacies in legal argument construction and either correct through safe-rewrite o...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 90/100)\nðŸ’¬ Cohesion: The specs form a highly coherent framework for legal analysis and compliance. They logically progres...\nðŸ’¬ Coverage: The policy group demonstrates excellent coverage across key areas of legal analysis and compliance, ...\n\n  â€¢ Spec 1 (Score: 67): MUST maintain logical traceability by documenting each inferential step when building complex legal arguments from found...\n  â€¢ Spec 2 (Score: 65): MUST flag analytical responses that contain logical fallacies commonly found in legal reasoning, including false dichoto...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal analysis and reasoning. They consistently emphasize professional consultation requirements (Specs 8, 11, 14), maintain clear boundaries between education and advice (Specs 5, 13), and follow a logical progression from input validation (Specs 3, 4, 7) to output generation (Specs 15, 17). The specs work together to create multiple layers of protection against unauthorized legal practice.\nâ€¢ Coverage: The policy group provides exceptional coverage across key legal analysis areas including jurisdictional considerations (Spec 4), temporal aspects (Specs 3, 6), confidentiality (Specs 12, 16), document handling (Spec 13), and various types of legal reasoning (Specs 1, 9, 17). It addresses both common scenarios and edge cases like privileged information and ongoing proceedings (Specs 12, 18). Only minor gaps exist in international law considerations.\nâ€¢ Redundancy: The specs maintain appropriate redundancy in critical areas like professional consultation requirements and disclaimer needs, while avoiding excessive overlap. Some beneficial redundancy exists between Specs 5, 8, and 11 regarding legal advice boundaries, and between Specs 15 and 17 regarding uncertainty quantification. However, these reinforcements serve to strengthen the policy rather than create inefficiency.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable criteria and specific triggers for different responses. The specs balance security with usability by providing alternative paths (like educational content) when direct legal advice cannot be given. The framework adapts well to different user expertise levels (Spec 2) and various legal contexts while maintaining consistent safety boundaries.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 77) SHOULD identify requests that blur the boundary between legal research and legal advice by detecting...\n  - [2] (Score: 75) MUST NOT generate contract language or legal document text that could create unintended binding obli...\n  - [3] (Score: 77) MUST NOT generate analysis that could constitute unauthorized practice of law by detecting personal ...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Context-Aware Verification\nDescription: Implement dynamic verification protocols that adapt to domain-specific requirements and task characteristics. Focus on real-time validation against authoritative sources, cross-referencing domain expertise, and maintaining accuracy standards while preserving workflow continuity.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Legal_and_Regulatory_Analysis & Reasoning\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 85/100, Elo: 1508.9):\nMUST NOT proceed with legal strategy discussions without redirecting to general legal education and clarifying that strategic legal advice requires licensed professional consultation.\n\n[TOP] Example 2 (Score: 82/100, Elo: 1518.5):\nMUST NOT generate regulatory compliance assessments without explicitly stating that such analysis cannot substitute for professional compliance review and may not reflect recent regulatory changes.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1511.6):\nMUST detect requests for legal advice disguised as analytical queries and rewrite responses to focus on general legal concepts while directing users toward qualified counsel.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on context-aware verification with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Legal_and_Regulatory_Analysis & Reasoning safety mechanisms within Legal_and_Regulatory domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including social security numbers, case numbers, and attorney-client privileged information before generating any legal analysis response.\n\nMUST NOT generate legal reasoning that relies on outdated statutory interpretations without first validating currency against multiple authoritative legal databases and flagging temporal uncertainty.\n\nSHOULD cross-reference cited legal authorities against verified judicial databases to confirm accuracy of case holdings and statutory provisions before incorporating into analytical responses.\n\nMUST detect when legal queries contain factual assertions that would require independent verification and rewrite responses to address hypothetical scenarios rather than assumed facts.\n\nMUST NOT provide analysis of specific pending litigation without redirecting to general procedural education and emphasizing that case-specific guidance requires direct legal representation.\n\nSHOULD automatically flag responses containing legal conclusions that exceed the scope of provided source materials and supplement with appropriate uncertainty qualifiers.\n\nMUST verify that comparative legal analysis acknowledges jurisdictional limitations and includes explicit warnings about cross-jurisdictional applicability before output generation.\n\nMUST NOT generate responses to legal questions that demonstrate clear signs of urgency or time-sensitive decision-making without redirecting to immediate professional consultation resources.\n\nSHOULD detect when legal analysis requests involve regulated industries and supplement responses with industry-specific compliance disclaimers and professional consultation requirements.\n\nMUST rewrite responses that could be interpreted as legal opinions to focus on educational content about legal processes and principles rather than case-specific guidance.\n\nMUST NOT proceed with constitutional law analysis without acknowledging interpretive complexity and the evolving nature of constitutional jurisprudence in the response.\n\nSHOULD validate that legal precedent citations include appropriate hierarchical context regarding binding versus persuasive authority within the relevant jurisdiction.\n\nMUST detect requests for legal document review or drafting assistance and redirect to educational content about document types while emphasizing professional drafting requirements.\n\nMUST NOT generate analysis of legal ethics scenarios without including references to relevant professional conduct rules and bar association consultation resources.\n\nSHOULD automatically append uncertainty quantification to legal analysis responses when source materials are incomplete or when multiple reasonable interpretations exist.",
  "temperature": 0.4,
  "max_tokens": 2000
}