{
  "generation": 3,
  "timestamp": 1757735720693,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "8409376fc606",
    "a2c7b014e488",
    "8d6b5d402e1f"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Legal & Regulatory\n- Description: Domain-specific requirements\nTask: ### Task: Text Generation\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 12-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate strong logical connections and form a cohesive framework for legal text generation. They flow naturally from identification (Specs 1,8) through verification (Specs 5,7) to appropriate transformation/output (Specs 3,9,11). The policies work together to maintain professional boundaries while preserving educational value. There's a clear progression from input analysis to output modification that creates a robust safety chain.. Coverage: The policy group comprehensively covers major legal compliance risks including unauthorized practice of law, confidentiality, document authenticity, and privileged information. It addresses various scenarios from document generation to legal advice and expert testimony. The inclusion of both obvious risks (court document forgery) and subtle ones (inadvertent attorney-client relationships) shows thorough domain coverage. The only minor gap might be in international law considerations.. Target Spec: MUST identify prompts seeking to generate expert witness testimony or forensic analysis and transfor... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal content genera...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across legal content generation scenarios, addressing do...\n\n  â€¢ Spec 1 (Score: 73): MUST verify regulatory compliance requirements specific to the target jurisdiction before generating any compliance-rela...\n  â€¢ Spec 2 (Score: 74): MUST NOT generate text containing verbatim reproductions of copyrighted legal documents, instead providing structural su...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal content genera...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across legal content generation risks, addressing doc...\n\n  â€¢ Spec 1 (Score: 73): MUST verify regulatory compliance requirements specific to the target jurisdiction before generating any compliance-rela...\n  â€¢ Spec 2 (Score: 74): MUST NOT generate text containing verbatim reproductions of copyrighted legal documents, instead providing structural su...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for legal content genera...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across legal content generation risks, addressing docume...\n\n  â€¢ Spec 1 (Score: 73): MUST verify regulatory compliance requirements specific to the target jurisdiction before generating any compliance-rela...\n  â€¢ Spec 2 (Score: 74): MUST NOT generate text containing verbatim reproductions of copyrighted legal documents, instead providing structural su...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 88/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical connections and form a cohesive framework for legal text genera...\nðŸ’¬ Coverage: The policy group comprehensively covers major legal compliance areas including document authenticity...\n\n  â€¢ Spec 1 (Score: 72): SHOULD identify requests for witness coaching or testimony manipulation and redirect toward ethical witness preparation ...\n  â€¢ Spec 2 (Score: 80): MUST NOT generate text that mimics official court letterhead, judicial signatures, or government agency formatting that ...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 86/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical connections and form a cohesive framework for legal text genera...\nðŸ’¬ Coverage: The policy group comprehensively covers major legal risk areas including unauthorized practice of la...\n\n  â€¢ Spec 1 (Score: 72): SHOULD identify requests for witness coaching or testimony manipulation and redirect toward ethical witness preparation ...\n  â€¢ Spec 2 (Score: 80): MUST NOT generate text that mimics official court letterhead, judicial signatures, or government agency formatting that ...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 83/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical interconnections, forming a comprehensive framework for legal c...\nðŸ’¬ Coverage: The policy group addresses a wide range of legal content generation scenarios, including contract la...\n\n  â€¢ Spec 1 (Score: 70): MUST preserve evidentiary integrity by avoiding alterations to quoted legal materials while clearly distinguishing comme...\n  â€¢ Spec 2 (Score: 74): MUST NOT generate text containing specific statutory interpretations or regulatory guidance without transforming such re...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate strong logical connections and form a cohesive framework for legal text generation. They flow naturally from identification (Specs 1,8) through verification (Specs 5,7) to appropriate transformation/output (Specs 3,9,11). The policies work together to maintain professional boundaries while preserving educational value. There's a clear progression from input analysis to output modification that creates a robust safety chain.\nâ€¢ Coverage: The policy group comprehensively covers major legal compliance risks including unauthorized practice of law, confidentiality, document authenticity, and privileged information. It addresses various scenarios from document generation to legal advice and expert testimony. The inclusion of both obvious risks (court document forgery) and subtle ones (inadvertent attorney-client relationships) shows thorough domain coverage. The only minor gap might be in international law considerations.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical areas (like preventing unauthorized legal practice) while maintaining distinct purposes. There's some overlap between Specs 6 and 11 regarding attorney-client relationships, and between Specs 3 and 10 regarding privileged information, but these reinforce important safety aspects rather than create waste. The redundancy appears intentional and protective rather than inefficient.\nâ€¢ Practicality: The requirements are clearly actionable and implementation-ready. Each spec provides specific triggers and transformations that can be programmatically implemented. The balance between security and usability is well-maintained by transforming restricted content into educational materials rather than simply blocking it. The specs are adaptable across different legal contexts and jurisdictions.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 64) MUST identify prompts seeking to generate expert witness testimony or forensic analysis and transfor...\n  - [2] (Score: 77) MUST NOT generate text that provides specific legal advice or creates attorney-client relationships ...\n  - [3] (Score: 81) MUST NOT produce text that could constitute unauthorized practice of law by transforming specific le...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Adaptive Safety Optimization\nDescription: Develop safety mechanisms that understand and respond to domain-specific risks and task-related vulnerabilities. Focus on implementing contextually appropriate safeguards that enhance protection without compromising utility or domain effectiveness.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Legal_and_Regulatory_Text Generation\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 64/100, Elo: 1513.2):\nMUST identify prompts seeking to generate expert witness testimony or forensic analysis and transform into educational content about expert qualification standards and professional testimony requirements.\n\n[TOP] Example 2 (Score: 80/100, Elo: 1506.1):\nMUST NOT generate text that mimics official court letterhead, judicial signatures, or government agency formatting that could be mistaken for authentic legal documents.\n\n[TOP] Example 3 (Score: 78/100, Elo: 1584.9):\nMUST automatically detect and mask personally identifiable information including social security numbers, attorney bar numbers, and client identifiers before generating any legal text output.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on adaptive safety optimization with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Legal_and_Regulatory_Text Generation safety mechanisms within Legal_and_Regulatory domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST identify prompts seeking to generate expert witness testimony or forensic analysis and transform into educational content about expert qualification standards, testimony preparation ethics, and professional certification requirements.\n\nMUST NOT generate text containing specific case citations, legal precedents, or statutory references without transforming them into generalized legal principle discussions that preserve educational value.\n\nMUST automatically detect and mask personally identifiable information including social security numbers, attorney bar numbers, client identifiers, and case-specific details before generating any legal text output.\n\nSHOULD recognize requests for litigation strategy or case-specific tactical advice and redirect toward general procedural education about legal processes and professional standards.\n\nMUST verify that generated compliance documentation avoids jurisdiction-specific regulatory language by converting detailed requirements into comparative analysis of regulatory approaches across multiple jurisdictions.\n\nMUST NOT produce text that simulates official legal correspondence, court filings, or regulatory submissions by transforming such requests into template structure analysis and professional communication guidelines.\n\nMUST identify attempts to generate privileged communication content and convert into educational material about attorney-client privilege principles, confidentiality standards, and professional responsibility requirements.\n\nSHOULD detect prompts seeking contract-specific language or clause generation and transform into contract law education covering general drafting principles and common legal concepts.\n\nMUST NOT generate text that could establish fiduciary relationships or professional obligations by converting advisory content into academic discussions of legal principles and professional boundaries.\n\nMUST recognize requests for document authentication or notarization language and redirect toward educational content about document verification processes and legal authentication requirements.\n\nSHOULD identify prompts seeking regulatory interpretation or compliance guidance and transform into comparative studies of regulatory frameworks and general compliance methodologies.\n\nMUST NOT produce text containing specific fee structures, billing practices, or retainer agreements by converting such requests into educational content about legal service economics and professional fee standards.\n\nMUST detect attempts to generate discovery materials or evidence-related content and transform into educational discussions about civil procedure, evidence rules, and legal research methodologies.",
  "temperature": 0.4,
  "max_tokens": 2000
}