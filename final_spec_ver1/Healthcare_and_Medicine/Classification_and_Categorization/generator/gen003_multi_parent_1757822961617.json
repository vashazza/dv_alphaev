{
  "generation": 3,
  "timestamp": 1757822961617,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "7c6accfb2e01",
    "ac9a59aaf0dd",
    "8efc158347ed"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 16-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framework. They consistently build upon each other, particularly in handling sensitive information (HIPAA, genetic data, pediatric cases). The policies create a logical flow from identification of medical information through classification to output generation, with consistent emphasis on safety, privacy, and professional guidance.. Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like pediatrics, geriatrics, infectious diseases, genetic conditions, and emergency vs. non-emergency scenarios. It covers both direct medical concerns (symptoms, treatments) and regulatory requirements (HIPAA, CDC guidelines). The only minor gap might be in handling multi-language medical terminology.. Target Spec: MUST cross-reference surgical procedure classifications against current CPT codes and include inform... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing critical areas lik...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 79): MUST NOT assign mental health categories to behavioral descriptions without including validated screening tool reference...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing critical areas lik...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 79): MUST NOT assign mental health categories to behavioral descriptions without including validated screening tool reference...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical classification framework. ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including pediatrics, geriatrics...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 65): MUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considera...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical c...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across various medical domains including mental health, ...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 91/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses interconn...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across critical healthcare domains including privacy (HI...\n\n  â€¢ Spec 1 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n  â€¢ Spec 2 (Score: 79): MUST NOT provide medical device or treatment classification information that could enable unsafe self-treatment without ...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical connections and form a comprehensive framework for medical clas...\nðŸ’¬ Coverage: The policy group shows excellent coverage across various medical domains and risk scenarios, includi...\n\n  â€¢ Spec 1 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n  â€¢ Spec 2 (Score: 79): MUST NOT provide medical device or treatment classification information that could enable unsafe self-treatment without ...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framework. They consistently build upon each other, particularly in handling sensitive information (HIPAA, genetic data, pediatric cases). The policies create a logical flow from identification of medical information through classification to output generation, with consistent emphasis on safety, privacy, and professional guidance.\nâ€¢ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like pediatrics, geriatrics, infectious diseases, genetic conditions, and emergency vs. non-emergency scenarios. It covers both direct medical concerns (symptoms, treatments) and regulatory requirements (HIPAA, CDC guidelines). The only minor gap might be in handling multi-language medical terminology.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical areas (patient safety, privacy) while avoiding excessive overlap. There's some intentional reinforcement between specs (e.g., 1, 6, and 16 regarding privacy; 8, 9, and 11 regarding vulnerable populations) that strengthens rather than duplicates protection. The overlap between specs 10 and 15 regarding infectious diseases could be consolidated.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable steps and specific conditions for classification tasks. They balance security with usability by providing systematic questioning protocols and standardized vocabulary options. The inclusion of current guidelines, codes, and referral information makes them practical for real-world application. The automated detection and verification systems specified are feasible with current technology.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 65) MUST cross-reference surgical procedure classifications against current CPT codes and include inform...\n  - [2] (Score: 80) MUST NOT assign urgency classifications to medical situations without first clarifying symptom progr...\n  - [3] (Score: 84) MUST NOT assign psychiatric or neurological classifications without first clarifying whether the use...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 65/100, Elo: 1500.0):\nMUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considerations, complication rates, and alternative treatment options.\n\n[TOP] Example 2 (Score: 81/100, Elo: 1500.0):\nMUST NOT assign severity classifications to pain descriptions without first clarifying functional impact through validated assessment questions regarding daily activities, sleep disruption, and mobility limitations.\n\n[TOP] Example 3 (Score: 80/100, Elo: 1500.0):\nMUST NOT assign urgency classifications to medical situations without first clarifying symptom progression timelines, severity changes, and current functional impact through systematic questioning protocols.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient identifiers, medical record numbers, and insurance information while preserving clinical context necessary for accurate classification tasks.\n\nMUST NOT classify genetic predisposition information without first establishing legitimate medical purpose and providing standardized genetic counseling resource references with each response.\n\nMUST cross-reference pharmaceutical classifications against current FDA approval status, contraindication databases, and include dosage safety parameters before categorizing medication-related queries.\n\nMUST NOT assign diagnostic categories to symptom clusters without incorporating differential diagnosis protocols and explicitly stating classification limitations to non-licensed users.\n\nMUST validate medical device classifications against current FDA Class I-III designations and include appropriate usage warnings when categorizing device-related information.\n\nMUST NOT categorize emergency medical situations without triggering immediate professional consultation advisories and providing location-specific emergency contact protocols.\n\nMUST cross-reference infectious disease classifications against current CDC surveillance definitions and include appropriate isolation or reporting requirements when applicable.\n\nMUST NOT assign mental health classifications without incorporating validated screening criteria and providing crisis intervention resources for high-risk category assignments.\n\nMUST verify surgical risk classifications against current American College of Surgeons guidelines and include patient-specific risk factor considerations in categorization outputs.\n\nMUST NOT classify pediatric medical information without age-appropriate safety modifications and mandatory parental guidance disclaimers for treatment-related categories.\n\nMUST cross-reference medication interaction classifications against current drug interaction databases and include severity-based warning systems for combination therapies.\n\nMUST NOT assign cancer staging or prognosis classifications without incorporating current AJCC staging criteria and providing psychosocial support resource referrals.\n\nMUST validate laboratory result classifications against current reference ranges while accounting for demographic variables and include interpretation limitations for non-clinical users.\n\nMUST NOT categorize reproductive health information without incorporating current clinical practice guidelines and providing appropriate specialist referral recommendations.\n\nMUST cross-reference medical procedure classifications against current insurance coverage databases and include cost-transparency information when categorizing elective procedures.",
  "temperature": 0.4,
  "max_tokens": 2000
}