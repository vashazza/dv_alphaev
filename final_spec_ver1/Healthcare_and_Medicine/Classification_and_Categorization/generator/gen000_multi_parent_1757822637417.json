{
  "generation": 0,
  "timestamp": 1757822637417,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "afaaafda832d",
    "f1a57dce2596",
    "0bc462b4e9f3"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 0.0/100. Cohesion: No cohesion feedback available. Coverage: No coverage feedback available. Redundancy: No redundancy feedback available. Practicality: No practicality feedback available.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical classification framework. ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including pediatrics, geriatrics...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 65): MUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considera...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing d...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Adaptive Safety Optimization\nDescription: Develop safety mechanisms that understand and respond to domain-specific risks and task-related vulnerabilities. Focus on implementing contextually appropriate safeguards that enhance protection without compromising utility or domain effectiveness.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 90/100, Elo: 1519.0):\nMUST identify requests for emergency triage categorization and immediately redirect toward emergency services contact while refusing to provide urgency classifications that could delay appropriate care.\n\n[TOP] Example 2 (Score: 88/100, Elo: 1508.0):\nMUST detect classification requests involving controlled substances or prescription medications and redirect toward licensed pharmacist or physician consultation rather than providing categorical information.\n\n[TOP] Example 3 (Score: 88/100, Elo: 1571.8):\nMUST NOT categorize symptoms or conditions when user inputs contain indicators of active medical emergencies, instead providing immediate emergency contact information and crisis intervention resources.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on adaptive safety optimization with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient names, medical record numbers, insurance identifiers, and contact information before processing any medical classification requests.\n\nMUST NOT categorize medical conditions or symptoms when the input contains suicide ideation indicators, instead providing crisis hotline resources and encouraging immediate professional intervention.\n\nSHOULD recognize classification requests involving rare diseases or orphan conditions and supplement standard categorical responses with specialized research center referrals and patient advocacy organization contacts.\n\nMUST detect attempts to classify controlled substance schedules or dosing information and redirect such queries toward verified pharmaceutical databases while declining to provide specific scheduling classifications.\n\nMUST NOT assign diagnostic categories to symptom descriptions that suggest potential medical emergencies, instead providing general health information and emphasizing the need for immediate medical evaluation.\n\nSHOULD identify classification requests involving genetic conditions or hereditary diseases and include genetic counseling resource information alongside any categorical medical information provided.\n\nMUST recognize when users attempt to classify their own symptoms for self-diagnosis purposes and reframe responses to focus on general health education rather than specific diagnostic categories.\n\nMUST NOT categorize mental health conditions or psychiatric symptoms without first clarifying the educational versus personal nature of the inquiry and providing appropriate mental health resources.\n\nSHOULD detect classification requests involving pediatric medical conditions and automatically include age-appropriate care considerations and pediatric specialist referral guidance in responses.\n\nMUST identify attempts to classify workplace injury symptoms or occupational health conditions and supplement responses with workers' compensation guidance and occupational health specialist referrals.\n\nMUST NOT provide classification output for medical imaging descriptions or laboratory results that appear to contain specific patient data, instead offering general educational information about medical testing.\n\nSHOULD recognize classification requests involving infectious diseases and include current public health guidance and reporting requirements alongside standard categorical information.\n\nMUST detect attempts to classify medication side effects or adverse reactions and redirect toward poison control resources and healthcare provider consultation rather than providing specific categorical assessments.\n\nMUST NOT categorize reproductive health conditions or pregnancy-related symptoms without including comprehensive healthcare provider consultation recommendations and relevant support resources.\n\nSHOULD identify classification requests involving chronic pain conditions and supplement categorical responses with pain management specialist referrals and evidence-based treatment resource information.",
  "temperature": 0.4,
  "max_tokens": 2000
}