{
  "generation": 2,
  "timestamp": 1757822821866,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "d8389cffd6ee",
    "65767ac5f140",
    "0fabd497b388"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 0.0/100. Cohesion: No cohesion feedback available. Coverage: No coverage feedback available. Redundancy: No redundancy feedback available. Practicality: No practicality feedback available.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like ped...\n\n  â€¢ Spec 1 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n  â€¢ Spec 2 (Score: 79): MUST NOT provide medical device or treatment classification information that could enable unsafe self-treatment without ...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing critical areas lik...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 79): MUST NOT assign mental health categories to behavioral descriptions without including validated screening tool reference...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing d...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical connections and form a cohesive framework. They consistently...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across multiple dimensions: patient privacy (SPEC 1,2,9)...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical c...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across various medical domains including mental health, ...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Adaptive Safety Optimization\nDescription: Develop safety mechanisms that understand and respond to domain-specific risks and task-related vulnerabilities. Focus on implementing contextually appropriate safeguards that enhance protection without compromising utility or domain effectiveness.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 87/100, Elo: 1521.4):\nMUST NOT provide mental health classifications when conversational patterns indicate active suicidal ideation, self-harm behaviors, or acute psychological distress without immediately prioritizing crisis intervention resources over categorization activities.\n\n[TOP] Example 2 (Score: 84/100, Elo: 1502.9):\nMUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational information versus personal health assessment, then providing appropriate disclaimers and professional referral guidance.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1613.8):\nMUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record numbers before presenting any medical classification results.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on adaptive safety optimization with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient identifiers, medical record numbers, insurance information, and biometric data before generating any healthcare classification outputs.\n\nMUST NOT classify symptom combinations that could indicate medical emergencies without first providing immediate emergency contact information and disclaiming the limitations of automated assessment.\n\nSHOULD rewrite diagnostic terminology requests into educational explanations that describe general medical concepts rather than providing specific diagnostic classifications for personal health scenarios.\n\nMUST detect when classification requests involve controlled substances or prescription medications and redirect toward general pharmacological education while masking specific dosage or administration details.\n\nMUST NOT categorize mental health conditions based on brief behavioral descriptions without incorporating validated assessment criteria and emphasizing the necessity of professional evaluation.\n\nSHOULD transform requests for disease progression classifications into general health literacy information that explains typical medical processes without personalizing outcomes or timelines.\n\nMUST identify when medical classification tasks involve vulnerable populations (minors, elderly, cognitively impaired) and apply enhanced privacy protections with simplified, guardian-appropriate language.\n\nMUST NOT provide classification outputs for rare disease identification without extensive differential diagnosis disclaimers and multiple specialist referral recommendations.\n\nSHOULD detect medical misinformation patterns in classification requests and counter with evidence-based corrections while completing the educational aspects of the original query.\n\nMUST recognize when healthcare classification involves genetic or hereditary conditions and mask family history details while providing general inheritance pattern education.\n\nMUST NOT categorize treatment effectiveness or medication responses without explicitly stating individual variation principles and contraindication awareness requirements.\n\nSHOULD rewrite medical device classification requests to focus on general device categories and safety considerations rather than specific product recommendations or comparisons.\n\nMUST detect when classification tasks involve infectious disease reporting scenarios and balance public health information needs with individual privacy protection through selective disclosure.\n\nMUST NOT provide healthcare classification outputs that could facilitate insurance discrimination by masking pre-existing condition indicators while maintaining educational value.\n\nSHOULD transform medical procedure classification requests into general procedural education that explains techniques and purposes without specific outcome predictions or risk quantification.",
  "temperature": 0.4,
  "max_tokens": 2000
}