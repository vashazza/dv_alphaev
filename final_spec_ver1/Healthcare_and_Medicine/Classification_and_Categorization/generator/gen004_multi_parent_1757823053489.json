{
  "generation": 4,
  "timestamp": 1757823053489,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "a311acbcf7f4",
    "408513e25d88",
    "8da3d88514d2"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 90.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framework. They consistently address related concerns (e.g., specs 2, 5, 6 regarding vulnerable populations; specs 3, 8, 13 regarding privacy/HIPAA) and build upon each other logically. The policies maintain consistent emphasis on safety, privacy, and clinical accuracy while smoothly transitioning between different medical contexts.. Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like pediatrics, geriatrics, infectious diseases, psychiatric conditions, genetic conditions, and surgical procedures. It covers both clinical and administrative aspects (CPT codes, HIPAA), emergency vs. non-emergency scenarios, and special populations. The inclusion of public health measures and current clinical standards ensures comprehensive regulatory compliance.. Redundancy: While there is some overlap in privacy protection measures (specs 3, 8, 13) and terminology standardization (specs 1, 15), this redundancy appears intentional and appropriate for critical healthcare requirements. However, some consolidation could be possible between specs 2 and 16 regarding dosage verification, and specs 7 and 11 regarding infectious diseases, hence not achieving maximum score.. Practicality: The specifications are generally clear and actionable, with concrete requirements for implementation. They balance security with usability by including specific guidance (e.g., CDC guidelines, CPT codes) and practical considerations (e.g., referral language, alternative treatments). The main challenge might be maintaining currency with rapidly evolving medical standards and guidelines, slightly reducing practicality..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical classification framework. ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including pediatrics, geriatrics...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 65): MUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considera...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical classification scenarios, addressing data...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains including pediatrics, geriatrics,...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 79): MUST NOT assign mental health categories to behavioral descriptions without including validated screening tool reference...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical connections and form a comprehensive framework for medical clas...\nðŸ’¬ Coverage: The policy group shows excellent coverage across various medical domains and risk scenarios, includi...\n\n  â€¢ Spec 1 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n  â€¢ Spec 2 (Score: 79): MUST NOT provide medical device or treatment classification information that could enable unsafe self-treatment without ...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like ped...\n\n  â€¢ Spec 1 (Score: 69): MUST recognize when users submit medical terminology inconsistently and offer standardized vocabulary options while aski...\n  â€¢ Spec 2 (Score: 74): MUST detect when medical classification outputs contain dosage information and verify against pediatric, geriatric, and ...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical interconnection, forming a comprehensive framework for medic...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across multiple critical areas: surgical procedures, dru...\n\n  â€¢ Spec 1 (Score: 74): MUST NOT assign surgical procedure classifications without verifying against current medical coding standards and surgic...\n  â€¢ Spec 2 (Score: 70): MUST validate medical terminology against current clinical standards before assigning healthcare categories, substitutin...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framework. They consistently address related concerns (e.g., specs 2, 5, 6 regarding vulnerable populations; specs 3, 8, 13 regarding privacy/HIPAA) and build upon each other logically. The policies maintain consistent emphasis on safety, privacy, and clinical accuracy while smoothly transitioning between different medical contexts.\nâ€¢ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like pediatrics, geriatrics, infectious diseases, psychiatric conditions, genetic conditions, and surgical procedures. It covers both clinical and administrative aspects (CPT codes, HIPAA), emergency vs. non-emergency scenarios, and special populations. The inclusion of public health measures and current clinical standards ensures comprehensive regulatory compliance.\nâ€¢ Redundancy: While there is some overlap in privacy protection measures (specs 3, 8, 13) and terminology standardization (specs 1, 15), this redundancy appears intentional and appropriate for critical healthcare requirements. However, some consolidation could be possible between specs 2 and 16 regarding dosage verification, and specs 7 and 11 regarding infectious diseases, hence not achieving maximum score.\nâ€¢ Practicality: The specifications are generally clear and actionable, with concrete requirements for implementation. They balance security with usability by including specific guidance (e.g., CDC guidelines, CPT codes) and practical considerations (e.g., referral language, alternative treatments). The main challenge might be maintaining currency with rapidly evolving medical standards and guidelines, slightly reducing practicality.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 75) MUST recognize when classification requests involve sensitive reproductive health topics and modify ...\n  - [2] (Score: 79) MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations witho...\n  - [3] (Score: 70) SHOULD detect when classification boundaries overlap between emergency and non-emergency medical cat...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Context-Aware Verification\nDescription: Implement dynamic verification protocols that adapt to domain-specific requirements and task characteristics. Focus on real-time validation against authoritative sources, cross-referencing domain expertise, and maintaining accuracy standards while preserving workflow continuity.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 78/100, Elo: 1576.9):\nMUST detect when medical classification outputs could enable medication abuse or self-harm behaviors and rewrite responses to emphasize harm reduction and professional support resources.\n\n[TOP] Example 2 (Score: 75/100, Elo: 1500.6):\nSHOULD automatically append contraindication warnings when classifying medications or treatments for users who have indicated pregnancy, nursing, or pediatric contexts in their queries.\n\n[TOP] Example 3 (Score: 75/100, Elo: 1519.4):\nMUST detect when classification requests involve pediatric medical information and automatically apply age-appropriate privacy protections with parental consent considerations and developmental stage qualifiers.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on context-aware verification with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient identifiers, medical record numbers, and insurance information when processing healthcare classification requests, substituting with anonymized placeholders while preserving clinical relevance.\n\nMUST cross-reference diagnostic classifications against current ICD-11 standards and append uncertainty indicators when submitted symptoms match multiple differential diagnoses or require additional clinical correlation.\n\nSHOULD detect when medication classifications involve controlled substances and rewrite responses to exclude specific dosing protocols while maintaining therapeutic category information and directing users to licensed prescribers.\n\nMUST NOT assign severity classifications to mental health conditions without including validated assessment tool references and explicit disclaimers about professional evaluation requirements.\n\nMUST verify surgical procedure classifications against current CPT coding standards and append appropriate modifier codes when anatomical location or complexity factors affect classification accuracy.\n\nSHOULD automatically flag genetic condition classifications that involve hereditary risk factors and supplement responses with genetic counseling referral language and family history consideration prompts.\n\nMUST detect when infectious disease classifications could trigger public health reporting requirements and modify responses to include appropriate health authority contact information without diagnostic certainty claims.\n\nMUST NOT categorize emergency medical situations without prominent triage guidance directing users to emergency services and avoiding delay-inducing self-assessment protocols.\n\nSHOULD cross-validate pharmaceutical classifications against current FDA approval status and pregnancy category ratings, substituting outdated information with current safety profiles.\n\nMUST detect when classification requests involve pediatric populations and automatically apply age-specific safety thresholds, weight-based considerations, and developmental milestone qualifiers.\n\nMUST verify medical device classifications against current FDA clearance status and append appropriate use limitations when devices require prescription oversight or specialized training.\n\nSHOULD automatically detect when symptom classifications suggest potential adverse drug reactions and rewrite responses to emphasize medication review and healthcare provider consultation.\n\nMUST NOT assign psychiatric classifications to behavioral descriptions without including cultural competency considerations and alternative explanatory frameworks beyond pathological models.\n\nMUST cross-reference laboratory value classifications against current reference ranges and append interpretive cautions when values approach critical thresholds or require clinical correlation.\n\nSHOULD detect when treatment classifications involve off-label medication uses and modify responses to clarify regulatory status while maintaining educational value about therapeutic applications.",
  "temperature": 0.4,
  "max_tokens": 2000
}