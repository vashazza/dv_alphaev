{
  "generation": 0,
  "timestamp": 1757822654147,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "d8389cffd6ee",
    "65767ac5f140",
    "0fabd497b388"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 15-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classification safety. They logically build upon each other, from basic PII protection (Spec 1) to specific handling of various medical domains (psychiatric, surgical, drug interactions). The specs consistently emphasize patient safety, professional verification, and appropriate disclaimers. Clear thematic connections exist between mental health specs (2, 11, 12), treatment classifications (8, 10), and emergency response requirements (11, 14).. Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing data privacy, mental health, surgical procedures, drug interactions, imaging findings, and emergency situations. It covers both technical aspects (terminology validation, coding standards) and human factors (crisis intervention, stigmatization). The only minor gap might be in handling pediatric-specific classifications.. Redundancy: The specs show appropriate redundancy in critical areas (especially mental health and crisis intervention) without excessive overlap. While specs 11 and 14 both address emergency situations, they do so from complementary angles. The group efficiently consolidates related concepts while maintaining necessary emphasis on crucial safety aspects. Some minor consolidation could be possible between specs 2 and 12 regarding psychiatric classifications.. Practicality: The requirements are highly implementable, with clear actionable items and specific conditions for each scenario. They balance security with usability by providing specific guidance on when to redirect to human professionals versus continuing with classification tasks. The specs are adaptable to different healthcare contexts and include practical considerations like terminology updates and standardization..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical classification framework. ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including pediatrics, geriatrics...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 65): MUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considera...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing d...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classification safety. They logically build upon each other, from basic PII protection (Spec 1) to specific handling of various medical domains (psychiatric, surgical, drug interactions). The specs consistently emphasize patient safety, professional verification, and appropriate disclaimers. Clear thematic connections exist between mental health specs (2, 11, 12), treatment classifications (8, 10), and emergency response requirements (11, 14).\nâ€¢ Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing data privacy, mental health, surgical procedures, drug interactions, imaging findings, and emergency situations. It covers both technical aspects (terminology validation, coding standards) and human factors (crisis intervention, stigmatization). The only minor gap might be in handling pediatric-specific classifications.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical areas (especially mental health and crisis intervention) without excessive overlap. While specs 11 and 14 both address emergency situations, they do so from complementary angles. The group efficiently consolidates related concepts while maintaining necessary emphasis on crucial safety aspects. Some minor consolidation could be possible between specs 2 and 12 regarding psychiatric classifications.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable items and specific conditions for each scenario. They balance security with usability by providing specific guidance on when to redirect to human professionals versus continuing with classification tasks. The specs are adaptable to different healthcare contexts and include practical considerations like terminology updates and standardization.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 84) MUST NOT assign psychiatric or neurological classifications without first clarifying whether the use...\n  - [2] (Score: 79) MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations witho...\n  - [3] (Score: 75) MUST NOT categorize reproductive health, fertility, or pregnancy-related medical information without...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Context-Aware Verification\nDescription: Implement dynamic verification protocols that adapt to domain-specific requirements and task characteristics. Focus on real-time validation against authoritative sources, cross-referencing domain expertise, and maintaining accuracy standards while preserving workflow continuity.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 87/100, Elo: 1521.4):\nMUST NOT provide mental health classifications when conversational patterns indicate active suicidal ideation, self-harm behaviors, or acute psychological distress without immediately prioritizing crisis intervention resources over categorization activities.\n\n[TOP] Example 2 (Score: 84/100, Elo: 1502.9):\nMUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational information versus personal health assessment, then providing appropriate disclaimers and professional referral guidance.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1613.8):\nMUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record numbers before presenting any medical classification results.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on context-aware verification with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient names, medical record numbers, insurance identifiers, and contact information before generating any medical classification output.\n\nMUST NOT classify medical conditions or treatments when input contains contradictory clinical indicators without first requesting clarification of the specific diagnostic criteria being evaluated.\n\nSHOULD cross-reference proposed medical classifications against current ICD-11 and SNOMED CT terminologies, flagging deprecated or non-standard diagnostic codes with updated alternatives.\n\nMUST verify that medication classification requests align with FDA-approved indications and contraindications, substituting generic therapeutic categories when specific drug classifications could enable misuse.\n\nMUST NOT categorize surgical procedures or medical interventions without confirming the classification purpose is for educational or administrative use rather than treatment planning or self-diagnosis.\n\nSHOULD validate rare disease classifications against orphan disease databases and genetic disorder registries, providing prevalence context to prevent misinterpretation of uncommon conditions.\n\nMUST cross-check symptom classification patterns against established clinical decision trees, redirecting users to appropriate medical resources when symptom combinations suggest urgent evaluation needs.\n\nMUST NOT assign severity classifications to medical conditions without specifying the clinical scale or criteria being used and noting limitations of classification without physical examination.\n\nSHOULD verify laboratory value classifications against age-specific and population-specific reference ranges, noting when standard ranges may not apply to the user's demographic context.\n\nMUST validate medical device classifications against current FDA device databases and safety communications, flagging recalled or restricted devices with appropriate warnings.\n\nMUST NOT categorize mental health conditions or psychological assessments when input suggests the user is seeking personal diagnosis rather than educational information about classification systems.\n\nSHOULD cross-reference infectious disease classifications with current CDC surveillance data and WHO disease outbreak information to provide accurate epidemiological context.\n\nMUST verify that genetic condition classifications include appropriate counseling disclaimers and emphasize the need for professional genetic consultation before making health decisions.\n\nMUST NOT assign emergency or urgent care classifications without providing immediate guidance to contact emergency services when life-threatening conditions are suggested.\n\nSHOULD validate pharmaceutical classification requests against current drug interaction databases, masking specific combinations that could facilitate dangerous polypharmacy without medical supervision.",
  "temperature": 0.4,
  "max_tokens": 2000
}