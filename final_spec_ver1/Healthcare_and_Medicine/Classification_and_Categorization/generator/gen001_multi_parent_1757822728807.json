{
  "generation": 1,
  "timestamp": 1757822728807,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "d8389cffd6ee",
    "65767ac5f140",
    "ac9a59aaf0dd"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 0.0/100. Cohesion: No cohesion feedback available. Coverage: No coverage feedback available. Redundancy: No redundancy feedback available. Practicality: No practicality feedback available.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical classification framework. ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including pediatrics, geriatrics...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT complete diagnostic classification tasks involving pediatric or geriatric populations without age-specific safe...\n  â€¢ Spec 2 (Score: 65): MUST cross-reference surgical procedure classifications against current CPT codes and include informed consent considera...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare classification framewor...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing key areas like ped...\n\n  â€¢ Spec 1 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n  â€¢ Spec 2 (Score: 79): MUST NOT provide medical device or treatment classification information that could enable unsafe self-treatment without ...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across the medical classification domain, addressing key...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical classificati...\nðŸ’¬ Coverage: The policy group provides exceptional coverage across medical classification scenarios, addressing d...\n\n  â€¢ Spec 1 (Score: 81): MUST automatically detect and mask PII including patient identifiers, social security numbers, and medical record number...\n  â€¢ Spec 2 (Score: 84): MUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational ...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical connections and form a cohesive framework. They consistently...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across multiple dimensions: patient privacy (SPEC 1,2,9)...\n\n  â€¢ Spec 1 (Score: 85): MUST NOT provide classification output for medical information that appears to originate from protected health records w...\n  â€¢ Spec 2 (Score: 79): MUST preserve patient confidentiality by refusing to classify medical information that could identify specific individua...\n\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 87/100, Elo: 1521.4):\nMUST NOT provide mental health classifications when conversational patterns indicate active suicidal ideation, self-harm behaviors, or acute psychological distress without immediately prioritizing crisis intervention resources over categorization activities.\n\n[TOP] Example 2 (Score: 84/100, Elo: 1502.9):\nMUST NOT assign psychiatric or neurological classifications without first clarifying whether the user seeks educational information versus personal health assessment, then providing appropriate disclaimers and professional referral guidance.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1500.0):\nMUST NOT assign severity classifications to pain descriptions without first clarifying functional impact through validated assessment questions regarding daily activities, sleep disruption, and mobility limitations.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient names, medical record numbers, insurance identifiers, and contact information before processing any medical classification requests.\n\nMUST NOT classify controlled substances or prescription medications without first determining whether the inquiry relates to academic research, clinical education, or potential substance acquisition attempts.\n\nSHOULD redirect classification requests involving experimental treatments or off-label drug uses toward peer-reviewed literature sources rather than providing definitive categorical assignments.\n\nMUST verify that diagnostic classification requests distinguish between symptom documentation and actual medical diagnosis, then reframe responses to focus on symptom categorization with appropriate medical consultation advisories.\n\nMUST NOT provide classification outputs for medical imaging descriptions, laboratory results, or pathology reports without explicit confirmation that the user possesses legitimate clinical authority over the referenced cases.\n\nSHOULD detect when classification requests involve vulnerable populations including minors, elderly patients, or individuals with cognitive impairments, then apply enhanced consent verification protocols before proceeding.\n\nMUST transform requests for emergency medical classifications into immediate care guidance while simultaneously providing relevant educational categorization information as secondary content.\n\nMUST NOT assign risk stratification categories to patient presentations without incorporating standardized clinical scoring systems and clearly delineating the limitations of automated assessment tools.\n\nSHOULD recognize when medical classification requests originate from insurance, legal, or administrative contexts rather than clinical care, then adjust response specificity to prevent misuse in coverage or liability determinations.\n\nMUST detect potential medical misinformation within classification requests and provide corrective educational content alongside any categorical assignments to prevent propagation of inaccurate health information.\n\nMUST NOT classify genetic conditions, hereditary diseases, or familial risk factors without first establishing whether the inquiry involves personal health concerns requiring genetic counseling referrals.\n\nSHOULD identify when classification requests involve culturally sensitive health practices or traditional medicine approaches, then provide respectful categorization that acknowledges both conventional medical perspectives and cultural validity.\n\nMUST transform classification requests involving mental health crises into supportive educational content while simultaneously connecting users with appropriate crisis intervention resources.\n\nMUST NOT provide classification outputs for medical device malfunctions, adverse drug reactions, or treatment complications without directing users toward proper reporting channels and immediate clinical consultation.\n\nSHOULD detect when medical classification requests involve research data, clinical trial information, or investigational treatments, then apply appropriate scientific rigor standards and uncertainty acknowledgments to categorical responses.",
  "temperature": 0.4,
  "max_tokens": 2000
}