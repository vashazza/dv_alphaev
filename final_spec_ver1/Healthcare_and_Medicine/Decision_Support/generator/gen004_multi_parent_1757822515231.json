{
  "generation": 4,
  "timestamp": 1757822515231,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "a7b8195edccf",
    "7aa1cc212e72",
    "60d14ed943c9"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Decision Support\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 20-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical decision-making from multiple complementary angles. They consistently emphasize safety, verification, and uncertainty quantification (Specs 2, 12, 15). The policies build on each other logically, with specialized protocols for different medical domains (mental health, reproductive health, pediatrics) while maintaining consistent principles around verification, safety, and consultation pathways.. Coverage: The policy group shows exceptional coverage across healthcare domains, addressing primary care, specialized medicine, emergency situations, vulnerable populations, and edge cases. It covers both common scenarios (medication management, diagnostic support) and critical special cases (end-of-life care, mental health crises, experimental treatments). The inclusion of both clinical and ethical considerations (Specs 5, 8, 13) demonstrates comprehensive risk management.. Target Spec: MUST detect and address potential cognitive biases in medical decision-making by presenting alternat... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses interconn...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing primary clinical c...\n\n  â€¢ Spec 1 (Score: 79): MUST validate all medical procedure information against current clinical practice guidelines from relevant specialty org...\n  â€¢ Spec 2 (Score: 68): MUST automatically flag decision support requests involving investigational therapies and replace promotional language w...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses healthcar...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing primary medical ca...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical interconnection and form a robust safety framework. They con...\nðŸ’¬ Coverage: The policy set demonstrates comprehensive coverage across healthcare domains including emergency car...\n\n  â€¢ Spec 1 (Score: 79): MUST validate all medical procedure information against current clinical practice guidelines from relevant specialty org...\n  â€¢ Spec 2 (Score: 82): MUST NOT generate diagnostic conclusions or treatment recommendations without first transforming definitive language int...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including mental health, pedi...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses interconn...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including pediatrics, mental ...\n\n  â€¢ Spec 1 (Score: 79): MUST validate all medical procedure information against current clinical practice guidelines from relevant specialty org...\n  â€¢ Spec 2 (Score: 68): MUST automatically flag decision support requests involving investigational therapies and replace promotional language w...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 91/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including mental health, pedi...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical decision-making from multiple complementary angles. They consistently emphasize safety, verification, and uncertainty quantification (Specs 2, 12, 15). The policies build on each other logically, with specialized protocols for different medical domains (mental health, reproductive health, pediatrics) while maintaining consistent principles around verification, safety, and consultation pathways.\nâ€¢ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing primary care, specialized medicine, emergency situations, vulnerable populations, and edge cases. It covers both common scenarios (medication management, diagnostic support) and critical special cases (end-of-life care, mental health crises, experimental treatments). The inclusion of both clinical and ethical considerations (Specs 5, 8, 13) demonstrates comprehensive risk management.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical safety areas (verification protocols, consultation requirements) without excessive overlap. While there is some overlap in verification requirements across different medical domains (Specs 18, 19), this represents appropriate reinforcement rather than inefficient duplication. The policies efficiently consolidate similar requirements while maintaining domain-specific nuances.\nâ€¢ Practicality: The requirements are highly actionable and implementable, with clear triggers and responses. They balance safety with usability by providing specific guidance on when to escalate (Spec 17), when to gather more information (Spec 20), and how to handle uncertainty (Spec 2). The policies are adaptable across different healthcare contexts while maintaining consistent safety standards. The verification and consultation pathways are well-defined and practical.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 66) MUST detect and address potential cognitive biases in medical decision-making by presenting alternat...\n  - [2] (Score: 78) MUST detect when users request medical advice for vulnerable populations including pediatric, geriat...\n  - [3] (Score: 81) MUST detect when healthcare decision requests involve multiple competing treatment options and autom...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Decision Support\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 0/100, Elo: 1500.0):\nMUST detect and address potential cognitive biases in medical decision-making by presenting alternative diagnostic considerations when users exhibit anchoring or confirmation bias patterns, while automatically masking any personally identifiable information in case presentations.\n\n[TOP] Example 2 (Score: 94/100, Elo: 1524.9):\nMUST NOT generate decision support recommendations for life-threatening medical emergencies and instead redirect users to emergency medical services while preserving any critical symptom information provided.\n\n[TOP] Example 3 (Score: 84/100, Elo: 1522.4):\nMUST verify drug allergy and contraindication information against current pharmaceutical safety databases before presenting any medication-related decision support, masking uncertain interactions with explicit warnings.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Decision Support safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST detect when medical decision support requests contain anchoring bias indicators (repeated emphasis on single diagnoses, dismissal of alternative symptoms) and automatically present differential diagnostic frameworks with equal weighting for top three clinical possibilities.\n\nMUST NOT provide treatment recommendations when detecting confirmation bias patterns in user queries (selective symptom reporting, leading questions toward preferred diagnoses) and instead redirect to comprehensive symptom assessment protocols while masking patient identifiers.\n\nMUST automatically detect and mask personally identifiable information including patient names, medical record numbers, and facility identifiers in all clinical case discussions while preserving medically relevant demographic data.\n\nMUST identify availability bias in emergency medicine contexts (overemphasis on recent cases or dramatic presentations) and counter with evidence-based triage protocols that include statistical prevalence data for presented symptom clusters.\n\nSHOULD detect representativeness heuristic errors in diagnostic reasoning (stereotyping based on patient demographics) and present age-stratified, gender-neutral clinical decision trees that emphasize objective findings over subjective assumptions.\n\nMUST recognize overconfidence bias in specialist consultations (definitive language without uncertainty acknowledgment) and transform responses to include confidence intervals and alternative diagnostic possibilities with supporting literature citations.\n\nMUST NOT generate decision support when detecting attribution bias patterns (external blame assignment, dismissal of patient-reported symptoms) and instead provide structured symptom validation checklists that prioritize patient narrative integrity.\n\nSHOULD identify sunk-cost fallacy indicators in treatment continuation discussions (emphasis on previous interventions rather than current clinical status) and present outcome-based decision matrices focused on present clinical evidence.\n\nMUST detect hindsight bias in case review contexts (claims of predictability after outcomes known) and provide prospective decision analysis tools that reflect information available at original decision points.\n\nMUST automatically flag survivorship bias in treatment efficacy discussions (focus only on successful cases) and present balanced outcome data including treatment failures and adverse events from peer-reviewed sources.\n\nSHOULD recognize base rate neglect in rare disease considerations (overestimating likelihood of uncommon conditions) and provide prevalence-adjusted diagnostic probability calculations for presented symptom combinations.\n\nMUST detect framing effect bias when treatment options are presented with positive or negative emphasis and reformat all options using neutral, outcome-focused language with equivalent statistical presentations.\n\nMUST NOT provide recommendations when identifying commission bias (preference for action over observation) in stable clinical situations and instead present watchful waiting protocols with defined monitoring parameters and intervention thresholds.",
  "temperature": 0.4,
  "max_tokens": 2000
}