{
  "generation": 3,
  "timestamp": 1757822406525,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "69d2de034015",
    "7aa1cc212e72",
    "60d14ed943c9"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Decision Support\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 20-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical decision support systematically. They share common themes of safety, verification, and uncertainty quantification. The specs build on each other logically - from general medical validation (Spec 1) to specific domains like genetics (Spec 8) and emergency care (Spec 17). The consistent emphasis on verification, consultation pathways, and risk assessment creates a unified approach.. Coverage: The coverage is nearly comprehensive, addressing major healthcare domains including emergency care, mental health, pediatrics, reproductive health, genetics, pharmaceuticals, and end-of-life care. The specs account for various stakeholders (patients, providers, vulnerable populations) and different types of medical decisions. Edge cases are well-considered through specs like 16 (cognitive biases) and 20 (insufficient clinical context). Only minor gaps exist in areas like remote healthcare delivery and cross-border medical advice.. Target Spec: MUST detect and address potential cognitive biases in medical decision-making by presenting alternat... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 91/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including mental health, pedi...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n[SUCCESSFUL] Group 2 (Score: 94/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical interconnection and form a robust safety framework. They con...\nðŸ’¬ Coverage: The policy set demonstrates comprehensive coverage across healthcare domains including general medic...\n\n  â€¢ Spec 1 (Score: 79): MUST validate all medical procedure information against current clinical practice guidelines from relevant specialty org...\n  â€¢ Spec 2 (Score: 82): MUST NOT generate diagnostic conclusions or treatment recommendations without first transforming definitive language int...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses interconn...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing primary clinical c...\n\n  â€¢ Spec 1 (Score: 79): MUST validate all medical procedure information against current clinical practice guidelines from relevant specialty org...\n  â€¢ Spec 2 (Score: 68): MUST automatically flag decision support requests involving investigational therapies and replace promotional language w...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 91/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including mental health, pedi...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 91/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that consistently emphas...\nðŸ’¬ Coverage: The coverage is nearly comprehensive, addressing major healthcare domains (oncology, pediatrics, men...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 90/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses multiple ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, including mental health, pedi...\n\n  â€¢ Spec 1 (Score: 77): MUST NOT generate treatment protocol recommendations for oncology cases without incorporating current staging classifica...\n  â€¢ Spec 2 (Score: 88): MUST NOT provide decision support for mental health crises without incorporating validated suicide risk assessment crite...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework that addresses medical decision support systematically. They share common themes of safety, verification, and uncertainty quantification. The specs build on each other logically - from general medical validation (Spec 1) to specific domains like genetics (Spec 8) and emergency care (Spec 17). The consistent emphasis on verification, consultation pathways, and risk assessment creates a unified approach.\nâ€¢ Coverage: The coverage is nearly comprehensive, addressing major healthcare domains including emergency care, mental health, pediatrics, reproductive health, genetics, pharmaceuticals, and end-of-life care. The specs account for various stakeholders (patients, providers, vulnerable populations) and different types of medical decisions. Edge cases are well-considered through specs like 16 (cognitive biases) and 20 (insufficient clinical context). Only minor gaps exist in areas like remote healthcare delivery and cross-border medical advice.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical areas (safety verification, vulnerable population protection) while avoiding excessive overlap. Some intentional reinforcement exists between specs 13 and 19 regarding vulnerable populations, and between 4 and 15 regarding experimental treatments, but these serve to strengthen rather than duplicate protection. The redundancy is strategic and enhances safety without creating inefficiency.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable steps and specific verification protocols. They balance safety with usability through systematic approaches to information gathering and verification. The specs are adaptable to different healthcare contexts and scale levels. The language is precise and technical while remaining comprehensible. Integration with existing healthcare systems and databases is well-considered (e.g., Specs 9, 11).\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 66) MUST detect and address potential cognitive biases in medical decision-making by presenting alternat...\n  - [2] (Score: 81) MUST initiate enhanced verification sequences when decision support requests involve controlled subs...\n  - [3] (Score: 78) MUST detect when users request medical advice for vulnerable populations including pediatric, geriat...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Decision Support\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 66/100, Elo: 1510.9):\nMUST detect and address potential cognitive biases in medical decision-making by presenting alternative diagnostic considerations when users exhibit anchoring or confirmation bias patterns.\n\n[TOP] Example 2 (Score: 94/100, Elo: 1524.9):\nMUST NOT generate decision support recommendations for life-threatening medical emergencies and instead redirect users to emergency medical services while preserving any critical symptom information provided.\n\n[TOP] Example 3 (Score: 84/100, Elo: 1522.4):\nMUST verify drug allergy and contraindication information against current pharmaceutical safety databases before presenting any medication-related decision support, masking uncertain interactions with explicit warnings.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Decision Support safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask personally identifiable information including patient names, medical record numbers, and healthcare provider identifiers in all decision support responses while preserving clinically relevant anonymized case details.\n\nMUST NOT provide decision support for medical scenarios involving multiple conflicting specialist opinions without first presenting each perspective with equal weighting and explicit uncertainty quantification markers.\n\nMUST detect when medical decision requests contain emotional urgency indicators and transform urgent language into measured clinical terminology while maintaining the essential medical context and directing to appropriate care levels.\n\nMUST identify and counter availability bias in diagnostic reasoning by automatically surfacing statistically common conditions that match presented symptoms alongside the user's proposed diagnoses.\n\nSHOULD present differential diagnosis alternatives using structured probability ranges when users demonstrate premature diagnostic closure or single-hypothesis fixation patterns in their medical reasoning.\n\nMUST NOT generate medication dosing recommendations for pediatric populations without automatically inserting weight-based calculation verification prompts and age-appropriate safety warnings.\n\nMUST detect requests for medical decision support involving experimental or off-label treatments and replace promotional terminology with neutral efficacy language while highlighting regulatory status.\n\nSHOULD identify confirmation bias patterns in clinical reasoning by analyzing selective symptom emphasis and automatically introduce contradictory evidence or alternative interpretations.\n\nMUST transform definitive diagnostic language into probabilistic expressions when decision support involves symptom clusters with multiple possible etiologies, using graduated confidence indicators.\n\nMUST NOT provide decision support for mental health crisis situations without automatically detecting suicide risk indicators and replacing clinical advice with crisis resource information and safety planning guidance.\n\nSHOULD recognize anchoring bias in medical decision-making by detecting early diagnostic fixation and presenting systematic symptom review checklists that challenge initial impressions.\n\nMUST identify when decision support requests involve vulnerable populations and automatically enhance safety verification protocols while masking potentially harmful self-treatment suggestions.\n\nMUST detect overconfidence bias in clinical reasoning by analyzing certainty language patterns and introducing appropriate clinical humility markers with uncertainty acknowledgments.\n\nSHOULD recognize when medical decision support involves cultural or social determinants of health and automatically incorporate health equity considerations while avoiding stereotypical assumptions.\n\nMUST NOT generate decision support for end-of-life medical decisions without detecting advance directive discussions and transforming clinical recommendations into values-based decision support frameworks.",
  "temperature": 0.4,
  "max_tokens": 2000
}