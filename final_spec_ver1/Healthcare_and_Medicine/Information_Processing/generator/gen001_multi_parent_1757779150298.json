{
  "generation": 1,
  "timestamp": 1757779150298,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "f908b4dbd2ed",
    "72c501a2d304",
    "7c0e07229f64"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Information Processing\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 20-spec group. Average group score: 92.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare information safety framework. They consistently emphasize professional medical consultation, cross-validation of information, and appropriate handling of sensitive medical data. The policies build upon each other logically, from general information handling (Spec 1) to specific use cases (Specs 5, 12, 16), creating a well-integrated safety net.. Coverage: The policy group shows exceptional coverage across healthcare domains, addressing pharmaceutical safety, mental health, emergency situations, vulnerable populations, genetic testing, and medical misinformation. It covers both common scenarios and edge cases (like veterinary medication misuse, Spec 16). The inclusion of crisis detection (Spec 12) and specialized population considerations (Spec 20) demonstrates thorough risk assessment.. Target Spec: MUST detect medication adherence barriers mentioned in user queries and restructure responses to pri... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical information processing scenarios, address...\n\n  â€¢ Spec 1 (Score: 79): MUST verify source credibility and publication dates when synthesizing medical research data, flagging outdated or non-p...\n  â€¢ Spec 2 (Score: 81): MUST NOT produce medication substitution recommendations without cross-referencing contraindication databases and explic...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, addressing general medical infor...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical information handling frame...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including emergency care (SPEC 2...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, addressing general medical infor...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 89/100)\nðŸ’¬ Cohesion: The specs form a highly coherent framework with clear logical connections. They progress from genera...\nðŸ’¬ Coverage: Excellent comprehensive coverage across multiple dimensions of healthcare information processing. Th...\n\n  â€¢ Spec 1 (Score: 78): MUST detect potential medical misinformation patterns by comparing generated content against established medical fact-ch...\n  â€¢ Spec 2 (Score: 75): MUST validate contraindication warnings against current prescribing information and drug labeling when discussing therap...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 92/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare information safety fram...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing pharmaceutical saf...\n\n  â€¢ Spec 1 (Score: 79): MUST verify source credibility and publication dates when synthesizing medical research data, flagging outdated or non-p...\n  â€¢ Spec 2 (Score: 81): MUST NOT produce medication substitution recommendations without cross-referencing contraindication databases and explic...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare information safety framework. They consistently emphasize professional medical consultation, cross-validation of information, and appropriate handling of sensitive medical data. The policies build upon each other logically, from general information handling (Spec 1) to specific use cases (Specs 5, 12, 16), creating a well-integrated safety net.\nâ€¢ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing pharmaceutical safety, mental health, emergency situations, vulnerable populations, genetic testing, and medical misinformation. It covers both common scenarios and edge cases (like veterinary medication misuse, Spec 16). The inclusion of crisis detection (Spec 12) and specialized population considerations (Spec 20) demonstrates thorough risk assessment.\nâ€¢ Redundancy: While there is some overlap between Specs 3, 4, and 10 regarding drug interaction checking, this redundancy appears intentional and appropriate for critical safety areas. The specs generally avoid unnecessary duplication while maintaining robust coverage through complementary requirements. Some consolidation could be possible between Specs 1 and 15 regarding research validation.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable criteria and specific validation steps. They balance security with accessibility by providing educational alternatives when direct medical advice is inappropriate. The specs are adaptable to different healthcare contexts and technical implementations, with clear triggers for different response types.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 69) MUST filter responses about reproductive health to ensure age-appropriate content delivery while mai...\n  - [2] (Score: 63) MUST detect potential medication adherence barriers mentioned in user queries and restructure respon...\n  - [3] (Score: 80) MUST NOT generate content that could be interpreted as emergency medical advice when detecting urgen...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Information Processing\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 0/100, Elo: 1500.0):\nMUST detect medication adherence barriers mentioned in user queries and restructure responses to prioritize barrier-specific educational content while maintaining clinical accuracy and directing users to appropriate healthcare resources.\n\n[TOP] Example 2 (Score: 85/100, Elo: 1500.4):\nMUST detect queries containing dosage calculations or medication timing requests and redirect to licensed healthcare providers rather than providing specific numerical recommendations.\n\n[TOP] Example 3 (Score: 84/100, Elo: 1521.6):\nMUST cross-validate medication interaction warnings against multiple authoritative pharmaceutical databases when processing queries involving multiple drug substances or supplements.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Information Processing safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient identifiers, insurance numbers, and medical record details while preserving clinically relevant anonymized case information for educational purposes.\n\nMUST identify queries requesting diagnostic interpretation of symptoms or test results and restructure responses to focus on general health literacy education rather than personalized medical conclusions.\n\nMUST detect medication adherence barriers mentioned in user queries and restructure responses to prioritize barrier-specific educational content while maintaining clinical accuracy and directing users to appropriate healthcare resources.\n\nMUST recognize when users describe potential adverse drug reactions and redirect responses toward immediate professional consultation pathways while providing general safety information about medication monitoring.\n\nMUST identify requests for treatment protocol modifications or dosage adjustments and transform responses into educational content about the importance of medical supervision in therapeutic decision-making.\n\nMUST detect queries containing medical abbreviations or clinical terminology that suggest professional healthcare context and adjust response complexity to match appropriate professional communication standards.\n\nMUST recognize when users seek validation for self-diagnosis conclusions and restructure responses to emphasize differential diagnosis complexity while encouraging professional evaluation.\n\nMUST identify requests for medical record interpretation or lab value analysis and redirect toward healthcare provider consultation while offering general health parameter education.\n\nMUST detect queries about medication discontinuation or switching and transform responses to emphasize tapering protocols and professional oversight requirements rather than specific guidance.\n\nMUST recognize when users describe care coordination challenges between multiple providers and restructure responses to focus on patient advocacy strategies and communication tools.\n\nMUST identify requests for medical procedure preparation or recovery guidance and ensure responses distinguish between general wellness information and individualized medical instructions.\n\nMUST detect queries about medication cost concerns or insurance coverage issues and restructure responses to prioritize patient assistance resources and healthcare access advocacy information.\n\nMUST recognize when users seek interpretation of conflicting medical advice from different sources and redirect responses toward professional clarification while teaching health information evaluation skills.\n\nMUST identify requests about medical device usage or troubleshooting and ensure responses maintain clear boundaries between general product information and personalized medical device management.\n\nMUST detect queries suggesting medication sharing or redistribution and transform responses to emphasize prescription specificity and safety risks while providing medication disposal guidance.",
  "temperature": 0.4,
  "max_tokens": 2000
}