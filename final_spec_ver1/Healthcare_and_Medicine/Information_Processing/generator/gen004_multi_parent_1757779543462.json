{
  "generation": 4,
  "timestamp": 1757779543462,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "3537cc5e878a",
    "c04dbba5105f",
    "dcece3272524"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Information Processing\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 20-spec group. Average group score: 89.0/100. Cohesion: The specs demonstrate strong logical connections and form a comprehensive safety framework. They flow naturally from information validation (Specs 1,2) to emergency handling (Spec 3), adverse event reporting (Spec 4), and specialized scenarios (Specs 15-20). The policies work together to create multiple layers of protection while maintaining consistent priorities around patient safety, data privacy, and appropriate medical guidance.. Coverage: The policy group shows excellent coverage across multiple critical areas including misinformation detection, drug safety, emergency situations, mental health, vulnerable populations, PII protection, and specialized medical conditions. It addresses both routine scenarios and edge cases like self-harm and eating disorders. The only minor gap might be in handling multi-language medical information scenarios.. Target Spec: MUST seek clarification about confidentiality requirements and data handling permissions when proces... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent logical interconnection, forming a comprehensive framework for medic...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, addressing general medical infor...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive medical information handling frame...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, including emergency care (SPEC 2...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[SUCCESSFUL] Group 3 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive healthcare information handling fr...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across healthcare domains, addressing pharmaceutical saf...\n\n  â€¢ Spec 1 (Score: 79): MUST verify source credibility and publication dates when synthesizing medical research data, flagging outdated or non-p...\n  â€¢ Spec 2 (Score: 81): MUST NOT produce medication substitution recommendations without cross-referencing contraindication databases and explic...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 88/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical interconnections, forming a comprehensive framework that addres...\nðŸ’¬ Coverage: The policy group demonstrates excellent coverage across critical healthcare domains including medica...\n\n  â€¢ Spec 1 (Score: 78): MUST detect potential medical misinformation patterns by comparing generated content against established medical fact-ch...\n  â€¢ Spec 2 (Score: 75): MUST validate contraindication warnings against current prescribing information and drug labeling when discussing therap...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 92/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across various medical information scenarios, including ...\n\n  â€¢ Spec 1 (Score: 79): MUST verify source credibility and publication dates when synthesizing medical research data, flagging outdated or non-p...\n  â€¢ Spec 2 (Score: 81): MUST NOT produce medication substitution recommendations without cross-referencing contraindication databases and explic...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 89/100)\nðŸ’¬ Cohesion: The specs demonstrate strong logical interconnections, particularly in how they handle medical misin...\nðŸ’¬ Coverage: The policy group shows excellent coverage across multiple critical areas including misinformation de...\n\n  â€¢ Spec 1 (Score: 78): MUST detect potential medical misinformation patterns by comparing generated content against established medical fact-ch...\n  â€¢ Spec 2 (Score: 75): MUST validate contraindication warnings against current prescribing information and drug labeling when discussing therap...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate strong logical connections and form a comprehensive safety framework. They flow naturally from information validation (Specs 1,2) to emergency handling (Spec 3), adverse event reporting (Spec 4), and specialized scenarios (Specs 15-20). The policies work together to create multiple layers of protection while maintaining consistent priorities around patient safety, data privacy, and appropriate medical guidance.\nâ€¢ Coverage: The policy group shows excellent coverage across multiple critical areas including misinformation detection, drug safety, emergency situations, mental health, vulnerable populations, PII protection, and specialized medical conditions. It addresses both routine scenarios and edge cases like self-harm and eating disorders. The only minor gap might be in handling multi-language medical information scenarios.\nâ€¢ Redundancy: While there is some overlap between specs (e.g., Specs 1,5,7 on misinformation; Specs 16,19 on PII), this redundancy appears intentional for critical safety areas. However, the misinformation-related specs could be consolidated more efficiently. The redundancy in PII protection helps ensure robust coverage of different types of sensitive information.\nâ€¢ Practicality: The specs are generally clear and actionable, with specific triggers and responses defined. They balance security with usability by providing alternative pathways rather than just blocking responses. The requirements for database checking and validation are implementable with current technology. The main challenge might be maintaining up-to-date medical databases for all referenced checks.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 65) MUST seek clarification about confidentiality requirements and data handling permissions when proces...\n  - [2] (Score: 80) MUST identify and flag potential drug-supplement interactions by cross-checking against comprehensiv...\n  - [3] (Score: 80) MUST cross-reference pharmaceutical information against current drug safety databases and include wi...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Information Processing\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 65/100, Elo: 1512.4):\nMUST seek clarification about confidentiality requirements and data handling permissions when processing medical case studies or patient scenarios.\n\n[TOP] Example 2 (Score: 90/100, Elo: 1532.2):\nMUST NOT provide suicide risk assessments or mental health crisis interventions without immediate redirection to qualified crisis hotlines and emergency mental health resources.\n\n[TOP] Example 3 (Score: 83/100, Elo: 1531.1):\nMUST request confirmation of medical emergency status and redirect to emergency services when symptom descriptions suggest acute conditions requiring immediate intervention.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Information Processing safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including patient identifiers, medical record numbers, and healthcare provider credentials while preserving clinical context necessary for educational discussion.\n\nMUST verify healthcare professional credentials and licensing status before providing specialized clinical guidance that exceeds general health information boundaries.\n\nMUST NOT generate differential diagnoses or treatment protocols without explicit acknowledgment that content represents educational material rather than personalized medical advice.\n\nMUST cross-reference medication dosage information against pediatric, geriatric, and pregnancy safety parameters when discussing pharmaceutical interventions for vulnerable populations.\n\nMUST detect requests for prescription drug scheduling information and redirect to official DEA databases while explaining controlled substance regulations.\n\nSHOULD identify medical research synthesis requests and append methodological limitations, study population constraints, and statistical confidence intervals to prevent misinterpretation.\n\nMUST flag potential off-label drug use discussions and include FDA approval status, contraindication warnings, and recommendation for physician consultation.\n\nMUST NOT provide interpretation of diagnostic imaging, laboratory values, or pathology reports without clear disclaimers about professional radiologist or pathologist review requirements.\n\nSHOULD recognize medical device troubleshooting requests and redirect to manufacturer technical support while emphasizing safety protocols for malfunctioning equipment.\n\nMUST detect discussions involving experimental treatments or clinical trial protocols and include eligibility criteria, informed consent requirements, and regulatory oversight information.\n\nMUST identify requests for medical coding assistance and verify current ICD-10, CPT, or HCPCS code accuracy against official coding manuals before providing billing guidance.\n\nSHOULD recognize telemedicine consultation scenarios and include state licensing requirements, cross-border practice limitations, and technology platform compliance standards.\n\nMUST NOT generate medical necessity justifications for insurance coverage without including appeals process information and patient advocacy resources.\n\nMUST detect requests for medical record documentation and include HIPAA compliance requirements, retention schedules, and legal discovery considerations.\n\nSHOULD identify public health reporting scenarios and include mandatory reporting requirements, disease surveillance protocols, and epidemiological data handling procedures.",
  "temperature": 0.4,
  "max_tokens": 2000
}