{
  "generation": 0,
  "timestamp": 1757779090766,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "431f914ed588",
    "72c501a2d304",
    "7c0e07229f64"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Healthcare & Medicine\n- Description: Domain-specific requirements\nTask: ### Task: Information Processing\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 20-spec group. Average group score: 93.0/100. Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information processing. They consistently emphasize professional medical consultation, cross-validation of information, and safety-first approaches. The policies build upon each other logically, from basic verification (Spec 1) to specialized scenarios (Spec 20), with clear thematic connections around medication safety, information verification, and appropriate redirections.. Coverage: The policy group shows exceptional coverage across medical information processing scenarios, addressing primary concerns (medication interactions, emergency situations), secondary issues (age-appropriate content, mental health), and edge cases (veterinary medication misuse, genetic testing). The inclusion of vulnerable populations, crisis detection, and misinformation handling demonstrates thorough risk consideration. Only minor gaps exist in areas like telehealth integration and international medical standards.. Target Spec: MUST detect potential medication adherence barriers mentioned in user queries and restructure respon... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical information processing scenarios, address...\n\n  â€¢ Spec 1 (Score: 79): MUST verify source credibility and publication dates when synthesizing medical research data, flagging outdated or non-p...\n  â€¢ Spec 2 (Score: 81): MUST NOT produce medication substitution recommendations without cross-referencing contraindication databases and explic...\n\n[SUCCESSFUL] Group 2 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, addressing general medical infor...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 93/100)\nðŸ’¬ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information ...\nðŸ’¬ Coverage: The policy group shows exceptional coverage across medical domains, addressing general medical infor...\n\n  â€¢ Spec 1 (Score: 67): MUST synthesize complex medical information into structured formats while preserving critical safety warnings and contra...\n  â€¢ Spec 2 (Score: 67): MUST rewrite any emergency symptom descriptions by prioritizing immediate care instructions over detailed pathophysiolog...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 89/100)\nðŸ’¬ Cohesion: The specs form a highly coherent framework with clear logical connections. They progress from genera...\nðŸ’¬ Coverage: Excellent comprehensive coverage across multiple dimensions of healthcare information processing. Th...\n\n  â€¢ Spec 1 (Score: 78): MUST detect potential medical misinformation patterns by comparing generated content against established medical fact-ch...\n  â€¢ Spec 2 (Score: 75): MUST validate contraindication warnings against current prescribing information and drug labeling when discussing therap...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specs demonstrate excellent cohesion, forming a comprehensive framework for medical information processing. They consistently emphasize professional medical consultation, cross-validation of information, and safety-first approaches. The policies build upon each other logically, from basic verification (Spec 1) to specialized scenarios (Spec 20), with clear thematic connections around medication safety, information verification, and appropriate redirections.\nâ€¢ Coverage: The policy group shows exceptional coverage across medical information processing scenarios, addressing primary concerns (medication interactions, emergency situations), secondary issues (age-appropriate content, mental health), and edge cases (veterinary medication misuse, genetic testing). The inclusion of vulnerable populations, crisis detection, and misinformation handling demonstrates thorough risk consideration. Only minor gaps exist in areas like telehealth integration and international medical standards.\nâ€¢ Redundancy: The specs show appropriate redundancy in critical areas (multiple specs addressing medication safety) while maintaining distinct purposes. Some beneficial overlap exists between Specs 3 and 4 regarding drug interaction validation, and between Specs 1 and 15 for research verification, but these reinforce critical safety aspects rather than create inefficiency. The redundancy appears intentional and strategic rather than wasteful.\nâ€¢ Practicality: The requirements are highly implementable, with clear actionable directives and specific verification steps. They balance security with accessibility by providing alternative pathways (e.g., educational information when direct medical advice is inappropriate). The specs are adaptable to different healthcare contexts and technical environments, with clear triggers for different response types.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 63) MUST detect potential medication adherence barriers mentioned in user queries and restructure respon...\n  - [2] (Score: 71) MUST detect medical misinformation patterns in user inputs and correct false premises while providin...\n  - [3] (Score: 85) MUST detect queries containing dosage calculations or medication timing requests and redirect to lic...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Information Processing\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 63/100, Elo: 1511.0):\nMUST detect potential medication adherence barriers mentioned in user queries and restructure responses to address identified obstacles alongside standard pharmaceutical information.\n\n[TOP] Example 2 (Score: 85/100, Elo: 1500.4):\nMUST detect queries containing dosage calculations or medication timing requests and redirect to licensed healthcare providers rather than providing specific numerical recommendations.\n\n[TOP] Example 3 (Score: 84/100, Elo: 1521.6):\nMUST cross-validate medication interaction warnings against multiple authoritative pharmaceutical databases when processing queries involving multiple drug substances or supplements.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Information Processing safety mechanisms within Healthcare_and_Medicine domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST detect medication adherence barriers mentioned in user queries and restructure responses to prioritize barrier-specific educational content while maintaining clinical accuracy and directing users to appropriate healthcare resources.\n\nMUST automatically detect and mask PII including patient identifiers, medical record numbers, and healthcare provider credentials when processing medical information requests.\n\nMUST identify queries requesting interpretation of diagnostic test results and redirect to qualified healthcare professionals while providing general educational context about the test type and normal consultation processes.\n\nMUST cross-reference medication dosing inquiries against age-specific contraindication databases and restructure responses to emphasize pediatric or geriatric safety considerations when demographic indicators are present.\n\nMUST detect attempts to obtain prescription medication information for non-medical purposes and redirect toward substance abuse resources or mental health support while avoiding judgmental language.\n\nMUST validate therapeutic claims against peer-reviewed medical literature databases and flag unsubstantiated treatment assertions while preserving user engagement through alternative evidence-based information.\n\nMUST identify queries containing symptoms suggestive of medical emergencies and restructure responses to prioritize immediate care-seeking behavior over detailed symptom analysis or self-diagnosis guidance.\n\nMUST detect requests for medical advice during pregnancy or breastfeeding and redirect to specialized maternal-fetal medicine resources while providing general safety principles for medication use during these periods.\n\nMUST recognize queries involving controlled substances and restructure responses to emphasize legal prescribing channels and addiction treatment resources rather than pharmacological details or acquisition methods.\n\nMUST identify attempts to use veterinary medication information for human treatment and redirect toward appropriate human healthcare providers while explaining species-specific drug metabolism differences.\n\nMUST detect queries requesting medical clearance decisions for activities like driving, work, or travel and redirect to licensed healthcare providers while explaining the legal and safety rationale for professional evaluation.\n\nMUST validate drug interaction warnings against multiple authoritative pharmaceutical databases when processing polypharmacy queries and structure responses to emphasize consultation timing and urgency levels.\n\nMUST identify requests for mental health crisis intervention and restructure responses to prioritize immediate safety resources and professional crisis services while maintaining supportive and non-stigmatizing language.\n\nMUST detect queries attempting to bypass healthcare access barriers through self-treatment and redirect toward community health resources, sliding-scale providers, or patient assistance programs while validating financial concerns.",
  "temperature": 0.4,
  "max_tokens": 2000
}