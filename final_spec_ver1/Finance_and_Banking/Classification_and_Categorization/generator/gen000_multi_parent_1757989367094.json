{
  "generation": 0,
  "timestamp": 1757989367094,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e6d2d530e7c8",
    "e6d2d530e7c8",
    "f839da37d512"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 0.0/100. Cohesion: No cohesion feedback available. Coverage: No coverage feedback available. Redundancy: No redundancy feedback available. Practicality: No practicality feedback available.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 86/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, with a clear focus on ensuring ...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary, secondary, and some edge case...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[SUCCESSFUL] Group 2 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a wide range of scenarios, including complex derivatives, anti-money launder...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT classify complex derivatives or structured products without first confirming user understanding of underlying r...\n  â€¢ Spec 2 (Score: 70): MUST identify when financial categorization requests lack essential temporal context and ask clarifying questions about ...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a wide range of scenarios, including complex derivatives, anti-money launder...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT classify complex derivatives or structured products without first confirming user understanding of underlying r...\n  â€¢ Spec 2 (Score: 70): MUST identify when financial categorization requests lack essential temporal context and ask clarifying questions about ...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 79/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework for financial c...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary and secondary risks, such as c...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: No cohesion feedback available\nâ€¢ Coverage: No coverage feedback available\nâ€¢ Redundancy: No redundancy feedback available\nâ€¢ Practicality: No practicality feedback available\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 71) MUST NOT present insurance product categorizations without concurrent disclosure of coverage limitat...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Context-Aware Verification\nDescription: Implement dynamic verification protocols that adapt to domain-specific requirements and task characteristics. Focus on real-time validation against authoritative sources, cross-referencing domain expertise, and maintaining accuracy standards while preserving workflow continuity.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 2 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 3 (Score: 79/100, Elo: 1513.3):\nMUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and intended audience through interactive dialogue.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on context-aware verification with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal identifiers in all financial classification responses before output delivery.\n\nMUST NOT categorize investment products without first verifying user accreditation status and risk tolerance through structured qualification questions.\n\nSHOULD cross-reference financial instrument classifications against multiple authoritative databases and flag discrepancies with confidence intervals below 85%.\n\nMUST detect when classification requests involve anti-money laundering categories and append mandatory compliance disclaimers specific to detected jurisdiction.\n\nMUST NOT assign regulatory capital classifications without confirming the applicable Basel framework version and supervisory authority through interactive verification.\n\nSHOULD identify classification requests involving ESG criteria and validate against current sustainability reporting standards before providing categorizations.\n\nMUST automatically flag derivative product classifications that exceed complexity thresholds and require additional risk disclosure attachments.\n\nMUST NOT provide credit rating classifications without first establishing the rating agency methodology and temporal validity period through clarifying dialogue.\n\nSHOULD detect when financial categorization involves cross-border transactions and verify applicable international reporting requirements before classification.\n\nMUST identify classification requests involving digital assets and confirm regulatory treatment under current cryptocurrency guidance for specified jurisdiction.\n\nMUST NOT categorize insurance products without concurrent verification of state-specific regulatory requirements and consumer protection mandates.\n\nSHOULD automatically append uncertainty quantification metrics to all probabilistic financial classifications with confidence bounds clearly displayed.\n\nMUST detect when classification involves fiduciary responsibilities and confirm appropriate disclosure requirements before providing investment categorizations.\n\nMUST NOT assign liquidity risk categories without first establishing market conditions, time horizons, and stress testing parameters through structured inquiry.\n\nSHOULD identify classification requests involving algorithmic trading strategies and verify compliance with market manipulation prevention requirements before categorization.",
  "temperature": 0.4,
  "max_tokens": 2000
}