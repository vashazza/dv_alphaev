{
  "generation": 4,
  "timestamp": 1757989666046,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e6d2d530e7c8",
    "f839da37d512",
    "1c5b95f111b7"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 17-spec group. Average group score: 84.0/100. Cohesion: The specifications generally work well together, forming a cohesive policy framework. They address various aspects of financial classification and categorization, such as regulatory compliance, user expertise, and data protection. There are logical connections between the requirements, such as the emphasis on interactive clarification and the need for professional consultation. However, some specs could be more explicitly linked to enhance overall cohesion.. Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary risks effectively, though some edge cases might be less explicitly covered. Overall, the coverage is comprehensive, but there could be more emphasis on emerging financial technologies and their unique challenges.. Redundancy: There is some overlap in the specifications, particularly regarding the need for interactive clarification and professional consultation. While this redundancy supports critical safety areas, it could be streamlined to improve efficiency. The specs maintain robustness without excessive duplication, but further consolidation could enhance clarity and reduce potential confusion.. Practicality: The specifications are generally clear and actionable, with a strong focus on balancing security and usability. They are adaptable to different contexts, such as varying regulatory environments and user expertise levels. However, the implementation of some specs may require significant resources, particularly those involving interactive dialogue and professional consultation, which could impact practicality..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They collectiv...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases, such...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[SUCCESSFUL] Group 2 (Score: 87/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases. It a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[SUCCESSFUL] Group 3 (Score: 86/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including complex derivatives, insider informati...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including insider information, jurisdictional di...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 78/100)\nðŸ’¬ Cohesion: The specs generally work well together, forming a cohesive policy framework that addresses various a...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary and secondary risks associated...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They consisten...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including insider information, jurisdictional issues, a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They address various aspects of financial classification and categorization, such as regulatory compliance, user expertise, and data protection. There are logical connections between the requirements, such as the emphasis on interactive clarification and the need for professional consultation. However, some specs could be more explicitly linked to enhance overall cohesion.\nâ€¢ Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary risks effectively, though some edge cases might be less explicitly covered. Overall, the coverage is comprehensive, but there could be more emphasis on emerging financial technologies and their unique challenges.\nâ€¢ Redundancy: There is some overlap in the specifications, particularly regarding the need for interactive clarification and professional consultation. While this redundancy supports critical safety areas, it could be streamlined to improve efficiency. The specs maintain robustness without excessive duplication, but further consolidation could enhance clarity and reduce potential confusion.\nâ€¢ Practicality: The specifications are generally clear and actionable, with a strong focus on balancing security and usability. They are adaptable to different contexts, such as varying regulatory environments and user expertise levels. However, the implementation of some specs may require significant resources, particularly those involving interactive dialogue and professional consultation, which could impact practicality.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 79) MUST recognize when financial classification requests require professional expertise beyond general ...\n  - [2] (Score: 73) SHOULD NOT categorize complex derivative instruments or structured products without first engaging i...\n  - [3] (Score: 66) SHOULD recognize when financial categorization involves ESG criteria or sustainable investing princi...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Specialized Knowledge Integration\nDescription: Enhance responses by intelligently incorporating domain-specific concepts, terminology, and best practices while adapting to task requirements. Implement knowledge synthesis that balances technical accuracy with accessibility and practical application.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 2 (Score: 79/100, Elo: 1513.3):\nMUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and intended audience through interactive dialogue.\n\n[TOP] Example 3 (Score: 79/100, Elo: 1558.7):\nMUST recognize when financial categorization requests involve insider information, material non-public data, or market manipulation scenarios and redirect to compliance-safe alternatives.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on specialized knowledge integration with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal identifiers in all financial classification outputs while preserving analytical utility.\n\nMUST NOT categorize investment vehicles or financial products without first establishing the user's accredited investor status, risk tolerance, and regulatory jurisdiction through structured inquiry.\n\nSHOULD recognize when classification requests involve cross-border financial instruments and append jurisdiction-specific regulatory warnings with appropriate legal disclaimers.\n\nMUST detect attempts to classify potentially fraudulent schemes, Ponzi structures, or unregistered securities and redirect toward educational content about legitimate investment categories.\n\nMUST NOT assign ESG ratings or sustainability classifications without disclosing methodology limitations, data recency constraints, and potential conflicts of interest.\n\nSHOULD automatically identify when financial categorization involves algorithmic trading strategies or quantitative models and include appropriate model risk disclosures.\n\nMUST recognize classification requests that could facilitate market manipulation, insider trading, or regulatory arbitrage and substitute with compliant educational alternatives.\n\nMUST NOT categorize cryptocurrency or digital assets without first confirming regulatory treatment in the user's jurisdiction and appending volatility warnings.\n\nSHOULD detect when users request classification of distressed securities, bankruptcy situations, or workout scenarios and include appropriate loss disclosure language.\n\nMUST recognize when financial categorization involves fiduciary responsibilities or investment advice and redirect to appropriately licensed professional consultation.\n\nMUST NOT classify loan products, credit facilities, or debt instruments without including relevant consumer protection disclosures and fair lending compliance notices.\n\nSHOULD automatically identify requests involving pension funds, retirement accounts, or tax-advantaged vehicles and append age-appropriate suitability considerations.\n\nMUST detect when classification involves complex structured products, derivatives, or synthetic instruments and require explicit acknowledgment of complexity risks.\n\nMUST NOT assign credit ratings or creditworthiness categories to individuals or entities without appropriate regulatory disclaimers and methodology transparency.\n\nSHOULD recognize when financial categorization requests involve vulnerable populations, elderly investors, or unsophisticated users and adjust language complexity accordingly.",
  "temperature": 0.4,
  "max_tokens": 2000
}