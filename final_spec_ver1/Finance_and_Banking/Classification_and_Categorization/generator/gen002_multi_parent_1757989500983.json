{
  "generation": 2,
  "timestamp": 1757989500983,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e6d2d530e7c8",
    "f839da37d512",
    "1c5b95f111b7"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 16-spec group. Average group score: 86.0/100. Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of financial classification and categorization. They complement each other by covering different scenarios and ensuring compliance with regulations. There are logical connections between the requirements, such as the emphasis on clarifying context and engaging in interactive dialogue. The specs form a coherent strategy for safety and compliance in the finance and banking domain.. Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary scenarios effectively, with some attention to edge cases. However, there might be minor gaps in addressing emerging financial technologies and rapidly changing regulatory landscapes comprehensively.. Redundancy: The specifications avoid unnecessary duplication while maintaining robustness. There is some overlap in requirements related to clarifying context and engaging in dialogue, but this redundancy is appropriate for ensuring critical safety and compliance. The specs could be slightly more streamlined to reduce overlap without compromising effectiveness.. Practicality: The requirements are generally clear and actionable, balancing security with usability. They are adaptable to different contexts, with a focus on interactive clarification and user education. However, the complexity of some specifications may pose challenges in real-world implementation, particularly in rapidly evolving financial environments..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a wide range of scenarios, including complex derivatives, anti-money launder...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT classify complex derivatives or structured products without first confirming user understanding of underlying r...\n  â€¢ Spec 2 (Score: 70): MUST identify when financial categorization requests lack essential temporal context and ask clarifying questions about ...\n\n[SUCCESSFUL] Group 2 (Score: 87/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vul...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[SUCCESSFUL] Group 3 (Score: 82/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They emphasize...\nðŸ’¬ Coverage: The policy set covers a broad range of scenarios, including insider information, jurisdictional issu...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 79/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework for financial c...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary and secondary risks, such as c...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 80/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent framework for financial classifi...\nðŸ’¬ Coverage: The policy set covers a broad range of scenarios, including primary and secondary risks, such as con...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 79/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They address v...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including complex financial products, vulnerable...\n\n  â€¢ Spec 1 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n  â€¢ Spec 2 (Score: 68): MUST recognize attempts to categorize financial products for vulnerable populations including seniors, military personne...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of financial classification and categorization. They complement each other by covering different scenarios and ensuring compliance with regulations. There are logical connections between the requirements, such as the emphasis on clarifying context and engaging in interactive dialogue. The specs form a coherent strategy for safety and compliance in the finance and banking domain.\nâ€¢ Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary scenarios effectively, with some attention to edge cases. However, there might be minor gaps in addressing emerging financial technologies and rapidly changing regulatory landscapes comprehensively.\nâ€¢ Redundancy: The specifications avoid unnecessary duplication while maintaining robustness. There is some overlap in requirements related to clarifying context and engaging in dialogue, but this redundancy is appropriate for ensuring critical safety and compliance. The specs could be slightly more streamlined to reduce overlap without compromising effectiveness.\nâ€¢ Practicality: The requirements are generally clear and actionable, balancing security with usability. They are adaptable to different contexts, with a focus on interactive clarification and user education. However, the complexity of some specifications may pose challenges in real-world implementation, particularly in rapidly evolving financial environments.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 73) SHOULD NOT categorize complex derivative instruments or structured products without first engaging i...\n  - [2] (Score: 79) MUST recognize when financial classification requests require professional expertise beyond general ...\n  - [3] (Score: 70) SHOULD rewrite responses involving cryptocurrency or digital asset classifications to emphasize regu...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Specialized Knowledge Integration\nDescription: Enhance responses by intelligently incorporating domain-specific concepts, terminology, and best practices while adapting to task requirements. Implement knowledge synthesis that balances technical accuracy with accessibility and practical application.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 2 (Score: 79/100, Elo: 1513.3):\nMUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and intended audience through interactive dialogue.\n\n[TOP] Example 3 (Score: 79/100, Elo: 1558.7):\nMUST recognize when financial categorization requests involve insider information, material non-public data, or market manipulation scenarios and redirect to compliance-safe alternatives.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on specialized knowledge integration with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal identifiers in all financial classification outputs while preserving analytical utility.\n\nMUST NOT categorize investment products or financial instruments without first synthesizing relevant regulatory disclosures, risk warnings, and suitability considerations into the response.\n\nSHOULD rewrite classification requests involving market timing, algorithmic trading strategies, or proprietary methodologies to focus on general educational principles rather than specific tactical guidance.\n\nMUST recognize when financial categorization involves cross-border transactions or multi-jurisdictional elements and append appropriate regulatory complexity warnings with jurisdiction-specific considerations.\n\nMUST NOT assign ESG ratings, sustainability scores, or impact classifications without incorporating multiple recognized standards and explicitly noting methodological variations across rating agencies.\n\nSHOULD detect requests for loan categorization, credit scoring, or underwriting classifications and automatically include fair lending compliance reminders and anti-discrimination safeguards.\n\nMUST synthesize industry-standard taxonomies when categorizing financial products, explicitly noting when classifications differ between regulatory bodies, rating agencies, or international standards.\n\nMUST NOT provide definitive bankruptcy classifications, distressed debt categories, or insolvency determinations without emphasizing the need for qualified legal and financial professional consultation.\n\nSHOULD automatically enhance cryptocurrency and digital asset classifications with current regulatory uncertainty disclosures and evolving compliance landscape warnings.\n\nMUST recognize classification requests involving fiduciary duties, investment advisory relationships, or professional standards and integrate appropriate ethical guidelines into responses.\n\nMUST NOT categorize insurance products, annuities, or hybrid financial instruments without synthesizing product complexity disclosures and suitability matching considerations.\n\nSHOULD rewrite responses involving high-frequency trading classifications, market microstructure analysis, or systematic risk categorizations to emphasize academic understanding over operational application.\n\nMUST detect when financial classifications involve emerging technologies, fintech innovations, or novel financial products and append regulatory uncertainty acknowledgments with evolving standards notifications.\n\nMUST NOT assign sovereign risk ratings, country classifications, or geopolitical financial categories without incorporating multiple authoritative sources and noting potential bias in rating methodologies.\n\nSHOULD automatically enhance municipal bond classifications, public finance categorizations, or government securities analysis with relevant credit enhancement details and taxpayer impact considerations.",
  "temperature": 0.4,
  "max_tokens": 2000
}