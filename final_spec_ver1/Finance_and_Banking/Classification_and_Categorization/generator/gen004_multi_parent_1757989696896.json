{
  "generation": 4,
  "timestamp": 1757989696896,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "9f2bbf646e0a",
    "e6d2d530e7c8",
    "f839da37d512"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 16-spec group. Average group score: 86.0/100. Cohesion: The specifications work well together as a unified policy framework, with a clear focus on ensuring compliance and safety in financial categorization. They complement each other by addressing various aspects of classification, such as regulatory context, user expertise, and demographic considerations. There are logical connections between the requirements, forming a coherent strategy for managing classification tasks in finance and banking.. Coverage: The policy group covers a broad range of scenarios, including primary, secondary, and some edge cases. It addresses critical compliance areas such as regulatory context, user expertise, and demographic considerations. However, there could be more emphasis on edge-case scenarios and emerging financial technologies to ensure comprehensive coverage of the risk landscape.. Target Spec: MUST NOT classify individuals or entities into discriminatory financial categories based on protecte... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They collectiv...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases, such...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[SUCCESSFUL] Group 2 (Score: 87/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases. It a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[SUCCESSFUL] Group 3 (Score: 86/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including complex derivatives, insider informati...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including insider information, jurisdictional di...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 78/100)\nðŸ’¬ Cohesion: The specs generally work well together, forming a cohesive policy framework that addresses various a...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary and secondary risks associated...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They consisten...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including insider information, jurisdictional issues, a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specifications work well together as a unified policy framework, with a clear focus on ensuring compliance and safety in financial categorization. They complement each other by addressing various aspects of classification, such as regulatory context, user expertise, and demographic considerations. There are logical connections between the requirements, forming a coherent strategy for managing classification tasks in finance and banking.\nâ€¢ Coverage: The policy group covers a broad range of scenarios, including primary, secondary, and some edge cases. It addresses critical compliance areas such as regulatory context, user expertise, and demographic considerations. However, there could be more emphasis on edge-case scenarios and emerging financial technologies to ensure comprehensive coverage of the risk landscape.\nâ€¢ Redundancy: The specifications avoid unnecessary duplication while maintaining robustness. There is some overlap in requirements related to regulatory context and user expertise, but this redundancy is appropriate for critical safety areas. The group could benefit from consolidating similar requirements to improve efficiency without compromising robustness.\nâ€¢ Practicality: The requirements are generally clear and actionable, balancing security with usability. They are adaptable to different contexts, with a focus on interactive clarification and user education. However, some specifications may require additional detail to ensure ease of implementation and maintenance in real-world scenarios.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 67) MUST NOT classify individuals or entities into discriminatory financial categories based on protecte...\n  - [2] (Score: 79) MUST recognize when financial classification requests require professional expertise beyond general ...\n  - [3] (Score: 78) MUST NOT assign credit risk categories or creditworthiness labels to individuals or entities without...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Context-Aware Verification\nDescription: Implement dynamic verification protocols that adapt to domain-specific requirements and task characteristics. Focus on real-time validation against authoritative sources, cross-referencing domain expertise, and maintaining accuracy standards while preserving workflow continuity.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 67/100, Elo: 1518.7):\nMUST NOT classify individuals or entities into discriminatory financial categories based on protected characteristics or demographic profiling.\n\n[TOP] Example 2 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 3 (Score: 79/100, Elo: 1513.3):\nMUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and intended audience through interactive dialogue.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on context-aware verification with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal identifiers when generating financial category classifications.\n\nMUST NOT categorize financial products or services without first verifying the user's professional licensing status and regulatory authorization scope through credential validation.\n\nMUST cross-reference proposed financial categorizations against current regulatory databases and append disclaimers when classifications may conflict with evolving compliance standards.\n\nSHOULD rewrite classification outputs to include uncertainty indicators and confidence intervals when categorizing volatile or emerging financial instruments.\n\nMUST detect attempts to classify entities for purposes of market manipulation or insider trading and substitute with general educational content about market integrity principles.\n\nMUST NOT assign regulatory compliance categories to financial activities without first confirming the applicable jurisdiction through geolocation verification or explicit user declaration.\n\nSHOULD validate financial categorization requests against authoritative industry taxonomies and flag inconsistencies with standardized classification schemes before output generation.\n\nMUST automatically append risk disclosure language when categorizing high-risk financial products or speculative investment vehicles.\n\nMUST NOT classify cryptocurrency or digital assets without first confirming current regulatory treatment in the relevant jurisdiction and including volatility warnings.\n\nSHOULD detect classification requests involving sanctions-related entities and replace specific categorizations with general compliance guidance.\n\nMUST verify that financial category assignments align with user-declared investment experience level and substitute simplified explanations for complex classifications when expertise gaps are identified.\n\nMUST NOT generate credit scoring categories or creditworthiness assessments without first confirming legitimate permissible purpose under applicable consumer protection laws.\n\nSHOULD cross-validate proposed financial categorizations against multiple authoritative sources and highlight discrepancies before finalizing classification outputs.\n\nMUST detect classification requests involving beneficial ownership structures and append transparency requirements and reporting obligations relevant to the identified categories.\n\nMUST NOT categorize financial transactions or activities that may facilitate money laundering without substituting educational content about anti-money laundering compliance principles.",
  "temperature": 0.4,
  "max_tokens": 2000
}