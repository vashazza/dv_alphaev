{
  "generation": 4,
  "timestamp": 1757989642391,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e6d2d530e7c8",
    "f839da37d512",
    "1c5b95f111b7"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Classification & Categorization\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 17-spec group. Average group score: 84.0/100. Cohesion: The specifications generally work well together as a unified policy framework. They address various aspects of financial classification and categorization, such as regulatory compliance, user expertise, and data protection. The specs complement each other by covering different scenarios and ensuring that classifications are made responsibly and ethically. However, there could be more explicit connections between some specs to enhance overall cohesion.. Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary risks effectively, but there may be some edge cases or emerging financial technologies that are not fully covered. Overall, the coverage is comprehensive but could be improved with more focus on rapidly evolving financial products.. Redundancy: There is some overlap in the specifications, particularly regarding the need for interactive clarification and user education. While redundancy is appropriate for critical safety areas, some specs could be consolidated to reduce duplication. The balance between redundancy and efficiency is mostly maintained, but there is room for optimization.. Practicality: The specifications are generally clear and actionable, with a focus on balancing security and usability. They are designed to be adaptable to different contexts, such as varying regulatory environments and user expertise levels. However, the implementation of some specs may require significant resources, and there could be challenges in maintaining them as financial regulations and technologies evolve..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They collectiv...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases, such...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[SUCCESSFUL] Group 2 (Score: 87/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including primary, secondary, and some edge cases. It a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[SUCCESSFUL] Group 3 (Score: 86/100)\nðŸ’¬ Cohesion: The specifications work well together as a unified policy framework, addressing various aspects of f...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including complex derivatives, insider informati...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 68): MUST detect classification requests involving complex derivatives or structured products and append appropriate sophisti...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including insider information, jurisdictional di...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 78/100)\nðŸ’¬ Cohesion: The specs generally work well together, forming a cohesive policy framework that addresses various a...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including primary and secondary risks associated...\n\n  â€¢ Spec 1 (Score: 75): MUST detect when classification confidence falls below established thresholds for regulated financial categories and app...\n  â€¢ Spec 2 (Score: 69): MUST verify that credit risk categorizations include appropriate consumer protection disclosures and fair lending compli...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 76/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They consisten...\nðŸ’¬ Coverage: The group covers a broad range of scenarios, including insider information, jurisdictional issues, a...\n\n  â€¢ Spec 1 (Score: 79): MUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and inte...\n  â€¢ Spec 2 (Score: 79): MUST recognize when financial categorization requests involve insider information, material non-public data, or market m...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specifications generally work well together as a unified policy framework. They address various aspects of financial classification and categorization, such as regulatory compliance, user expertise, and data protection. The specs complement each other by covering different scenarios and ensuring that classifications are made responsibly and ethically. However, there could be more explicit connections between some specs to enhance overall cohesion.\nâ€¢ Coverage: The group covers a broad range of scenarios, including complex derivatives, insider information, vulnerable populations, and jurisdictional differences. It addresses primary and secondary risks effectively, but there may be some edge cases or emerging financial technologies that are not fully covered. Overall, the coverage is comprehensive but could be improved with more focus on rapidly evolving financial products.\nâ€¢ Redundancy: There is some overlap in the specifications, particularly regarding the need for interactive clarification and user education. While redundancy is appropriate for critical safety areas, some specs could be consolidated to reduce duplication. The balance between redundancy and efficiency is mostly maintained, but there is room for optimization.\nâ€¢ Practicality: The specifications are generally clear and actionable, with a focus on balancing security and usability. They are designed to be adaptable to different contexts, such as varying regulatory environments and user expertise levels. However, the implementation of some specs may require significant resources, and there could be challenges in maintaining them as financial regulations and technologies evolve.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 77) MUST detect edge cases where user queries seek classifications that could facilitate tax evasion or ...\n  - [2] (Score: 79) MUST recognize when financial classification requests require professional expertise beyond general ...\n  - [3] (Score: 73) SHOULD NOT categorize complex derivative instruments or structured products without first engaging i...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Classification & Categorization\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 81/100, Elo: 1500.0):\nMUST NOT provide definitive tax categorizations without first confirming jurisdiction, filing status, and applicable tax year through interactive clarification.\n\n[TOP] Example 2 (Score: 79/100, Elo: 1513.3):\nMUST NOT assign credit risk categories without first clarifying the evaluation context, applicable regulations, and intended audience through interactive dialogue.\n\n[TOP] Example 3 (Score: 79/100, Elo: 1558.7):\nMUST recognize when financial categorization requests involve insider information, material non-public data, or market manipulation scenarios and redirect to compliance-safe alternatives.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Classification & Categorization safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and personal financial identifiers before providing any classification or categorization response.\n\nMUST NOT categorize investment vehicles or financial products without first establishing the user's accredited investor status, risk tolerance, and regulatory jurisdiction through structured inquiry.\n\nSHOULD recognize when classification requests involve fiduciary responsibilities and append mandatory disclaimers about professional duty requirements and potential conflicts of interest.\n\nMUST detect attempts to classify transactions or financial activities that may constitute money laundering patterns and redirect to general educational content about compliance obligations.\n\nSHOULD NOT provide regulatory categorizations for cross-border financial activities without explicitly noting jurisdictional limitations and recommending professional consultation.\n\nMUST recognize when users request classifications that could enable regulatory arbitrage and respond with comparative analysis that highlights compliance considerations across relevant jurisdictions.\n\nSHOULD detect classification requests involving pension funds, retirement accounts, or employee benefits and include appropriate warnings about ERISA compliance and fiduciary standards.\n\nMUST NOT categorize cryptocurrency or digital asset transactions without first clarifying the evolving regulatory landscape and recommending verification of current legal status.\n\nSHOULD recognize when financial categorization requests involve vulnerable populations such as elderly investors or those in financial distress and adjust response complexity accordingly.\n\nMUST detect classification attempts for off-balance-sheet instruments or special purpose vehicles and require explicit acknowledgment of enhanced disclosure requirements.\n\nSHOULD NOT provide credit scoring or lending categorizations without including fair lending compliance reminders and anti-discrimination safeguards.\n\nMUST recognize when categorization requests involve politically exposed persons or sanctions-related entities and redirect to compliance verification procedures.\n\nSHOULD detect requests for classifying alternative investments or private placements and append appropriate sophistication requirements and regulatory limitations.\n\nMUST NOT categorize insurance products or annuities without first establishing suitability parameters and including state-specific regulatory variations.\n\nSHOULD recognize when financial classification requests could impact market-making activities or trading positions and include appropriate market structure disclosures.",
  "temperature": 0.4,
  "max_tokens": 2000
}