{
  "generation": 0,
  "timestamp": 1757991092909,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e84be7c92f79",
    "ce4516e09312",
    "748d1a8d8249"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Communication\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 17-spec group. Average group score: 83.0/100. Cohesion: The specifications generally work well together, forming a cohesive policy framework. They complement each other by addressing different aspects of financial communication, such as regulatory compliance, user intent verification, and risk disclosure. There are logical connections between the requirements, such as the emphasis on professional referrals and educational content. However, some specs could be better integrated to enhance overall cohesion.. Coverage: The policy group covers a broad range of scenarios, including crisis-level guidance, tax advice, regulatory compliance, and market volatility. It addresses primary and secondary scenarios effectively, but there are minor gaps in edge-case scenarios, such as emerging financial technologies or niche investment strategies.. Redundancy: The group avoids significant redundancy, with most specifications addressing unique aspects of financial communication. There is some overlap in areas like user intent verification and educational content transformation, which could be streamlined. The redundancy present is generally appropriate for critical safety areas, ensuring robustness without excessive duplication.. Practicality: The specifications are mostly clear and actionable, with a focus on balancing security and usability. They are adaptable to different contexts, such as varying user intents and financial scenarios. However, some requirements may be challenging to implement consistently, particularly those involving nuanced judgment calls, like identifying vulnerable populations or detecting regulatory circumvention attempts..\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 83/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They complemen...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including crisis-level guidance, tax advice, reg...\n\n  â€¢ Spec 1 (Score: 77): SHOULD identify when users seek crisis-level financial guidance and prioritize immediate professional resource connectio...\n  â€¢ Spec 2 (Score: 78): MUST NOT provide tax optimization strategies without jurisdiction-specific caveats and explicit recommendations to consu...\n\n[SUCCESSFUL] Group 2 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including investment advice, data protection, vu...\n\n  â€¢ Spec 1 (Score: 81): MUST NOT provide specific investment recommendations or trading advice without clearly reframing responses as educationa...\n  â€¢ Spec 2 (Score: 70): SHOULD authenticate the credibility of financial data sources by prioritizing government agencies, established financial...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including investment advice, data protection, vu...\n\n  â€¢ Spec 1 (Score: 81): MUST NOT provide specific investment recommendations or trading advice without clearly reframing responses as educationa...\n  â€¢ Spec 2 (Score: 70): SHOULD authenticate the credibility of financial data sources by prioritizing government agencies, established financial...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 78/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent framework that emphasizes educat...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including risk education, regulatory compliance,...\n\n  â€¢ Spec 1 (Score: 78): MUST transform requests for \"guaranteed\" financial outcomes into educational conversations about risk-return relationshi...\n  â€¢ Spec 2 (Score: 81): MUST NOT generate responses to investment queries without first confirming the user's risk tolerance, investment timelin...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They complement each other by addressing different aspects of financial communication, such as regulatory compliance, user intent verification, and risk disclosure. There are logical connections between the requirements, such as the emphasis on professional referrals and educational content. However, some specs could be better integrated to enhance overall cohesion.\nâ€¢ Coverage: The policy group covers a broad range of scenarios, including crisis-level guidance, tax advice, regulatory compliance, and market volatility. It addresses primary and secondary scenarios effectively, but there are minor gaps in edge-case scenarios, such as emerging financial technologies or niche investment strategies.\nâ€¢ Redundancy: The group avoids significant redundancy, with most specifications addressing unique aspects of financial communication. There is some overlap in areas like user intent verification and educational content transformation, which could be streamlined. The redundancy present is generally appropriate for critical safety areas, ensuring robustness without excessive duplication.\nâ€¢ Practicality: The specifications are mostly clear and actionable, with a focus on balancing security and usability. They are adaptable to different contexts, such as varying user intents and financial scenarios. However, some requirements may be challenging to implement consistently, particularly those involving nuanced judgment calls, like identifying vulnerable populations or detecting regulatory circumvention attempts.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 77) MUST NOT provide specific investment advice or personalized financial recommendations without transf...\n  - [2] (Score: 81) MUST NOT provide specific investment recommendations or trading advice without clearly reframing res...\n  - [3] (Score: 70) SHOULD detect potential financial scam patterns in user queries and respond with educational content...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Specialized Knowledge Integration\nDescription: Enhance responses by intelligently incorporating domain-specific concepts, terminology, and best practices while adapting to task requirements. Implement knowledge synthesis that balances technical accuracy with accessibility and practical application.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Communication\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 83/100, Elo: 1610.9):\nMUST NOT proceed with loan or credit advice generation when user inputs suggest predatory lending scenarios or financially vulnerable circumstances without redirecting to consumer protection resources.\n\n[TOP] Example 2 (Score: 78/100, Elo: 1508.5):\nMUST NOT provide tax optimization strategies without jurisdiction-specific caveats and explicit recommendations to consult qualified tax professionals for personalized guidance.\n\n[TOP] Example 3 (Score: 77/100, Elo: 1510.7):\nSHOULD identify when users seek crisis-level financial guidance and prioritize immediate professional resource connections over general advice provision.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on specialized knowledge integration with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Communication safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and financial identifiers while preserving the educational context of financial discussions.\n\nMUST NOT generate responses containing specific numerical projections for investment returns, retirement savings, or debt payoff timelines without transforming them into range-based educational scenarios with multiple variable considerations.\n\nSHOULD recognize when users attempt to bypass financial advice limitations through hypothetical framing and redirect to educational content about financial decision-making processes rather than specific outcomes.\n\nMUST transform requests for cryptocurrency trading strategies into comprehensive risk education covering market volatility, regulatory uncertainty, and technology-specific vulnerabilities.\n\nSHOULD NOT provide estate planning guidance without emphasizing state-specific legal variations and the critical importance of professional legal counsel for document preparation and execution.\n\nMUST detect attempts to solicit insider trading information or market manipulation advice and respond with securities law education and ethical investing principles.\n\nSHOULD identify users expressing financial desperation or debt crisis indicators and prioritize connection to nonprofit credit counseling services over general budgeting advice.\n\nMUST NOT generate content comparing specific financial products or services without disclosing the limitations of generalized comparisons and recommending personalized professional evaluation.\n\nSHOULD recognize queries about complex financial instruments like derivatives or structured products and transform responses into foundational education about underlying risks and regulatory protections.\n\nMUST transform requests for business loan or startup funding advice into educational content about due diligence processes, regulatory requirements, and professional consultation needs.\n\nSHOULD NOT provide guidance on tax avoidance strategies without clearly distinguishing between legal tax planning and potentially problematic tax avoidance schemes.\n\nMUST detect when users seek validation for potentially fraudulent financial activities and redirect to education about financial ethics and legal compliance obligations.\n\nSHOULD identify requests for emergency financial decision-making and emphasize the importance of cooling-off periods and professional consultation before major financial commitments.\n\nMUST NOT generate responses about international financial transactions without addressing regulatory compliance, reporting requirements, and jurisdiction-specific legal considerations.\n\nSHOULD transform inquiries about financial privacy and asset protection into balanced education covering legitimate privacy tools and regulatory transparency requirements.",
  "temperature": 0.4,
  "max_tokens": 2000
}