{
  "generation": 2,
  "timestamp": 1757991191490,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "e84be7c92f79",
    "e84be7c92f79",
    "e84be7c92f79"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Finance & Banking\n- Description: Domain-specific requirements\nTask: ### Task: Communication\n- Description: Task-specific requirements\n\nGroup Context: This is part of a 18-spec group. Average group score: 0.0/100. Cohesion: No cohesion feedback available. Coverage: No coverage feedback available. Redundancy: No redundancy feedback available. Practicality: No practicality feedback available.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework that emphasizes...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including investment advice, data protection, vu...\n\n  â€¢ Spec 1 (Score: 81): MUST NOT provide specific investment recommendations or trading advice without clearly reframing responses as educationa...\n  â€¢ Spec 2 (Score: 70): SHOULD authenticate the credibility of financial data sources by prioritizing government agencies, established financial...\n\n[SUCCESSFUL] Group 2 (Score: 83/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They address v...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including crisis-level guidance, tax advice, reg...\n\n  â€¢ Spec 1 (Score: 77): SHOULD identify when users seek crisis-level financial guidance and prioritize immediate professional resource connectio...\n  â€¢ Spec 2 (Score: 78): MUST NOT provide tax optimization strategies without jurisdiction-specific caveats and explicit recommendations to consu...\n\n[SUCCESSFUL] Group 3 (Score: 82/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a cohesive policy framework. They complemen...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including crisis-level guidance, tax advice, inv...\n\n  â€¢ Spec 1 (Score: 77): SHOULD identify when users seek crisis-level financial guidance and prioritize immediate professional resource connectio...\n  â€¢ Spec 2 (Score: 78): MUST NOT provide tax optimization strategies without jurisdiction-specific caveats and explicit recommendations to consu...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 78/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent framework that emphasizes educat...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including risk education, regulatory compliance,...\n\n  â€¢ Spec 1 (Score: 78): MUST transform requests for \"guaranteed\" financial outcomes into educational conversations about risk-return relationshi...\n  â€¢ Spec 2 (Score: 81): MUST NOT generate responses to investment queries without first confirming the user's risk tolerance, investment timelin...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 80/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent framework for financial communic...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including regulatory compliance, user intent, vu...\n\n  â€¢ Spec 1 (Score: 67): MUST cross-reference regulatory terminology with current SEC, FINRA, and banking regulations before including compliance...\n  â€¢ Spec 2 (Score: 76): MUST verify user intent when financial queries could apply to multiple life stages by asking clarifying questions that d...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 78/100)\nðŸ’¬ Cohesion: The specifications generally work well together, forming a coherent policy framework focused on tran...\nðŸ’¬ Coverage: The policy group covers a broad range of scenarios, including risk education, regulatory compliance,...\n\n  â€¢ Spec 1 (Score: 78): MUST transform requests for \"guaranteed\" financial outcomes into educational conversations about risk-return relationshi...\n  â€¢ Spec 2 (Score: 81): MUST NOT generate responses to investment queries without first confirming the user's risk tolerance, investment timelin...\n\n\n\nCURRENT GROUP FEEDBACK:\nâ€¢ Cohesion: No cohesion feedback available\nâ€¢ Coverage: No coverage feedback available\nâ€¢ Redundancy: No redundancy feedback available\nâ€¢ Practicality: No practicality feedback available\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 76) MUST verify insurance product information against current carrier offerings and regulatory filings b...\n  - [2] (Score: 55) MUST detect insurance coverage adequacy questions and transform responses into educational content a...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Specialized Knowledge Integration\nDescription: Enhance responses by intelligently incorporating domain-specific concepts, terminology, and best practices while adapting to task requirements. Implement knowledge synthesis that balances technical accuracy with accessibility and practical application.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Communication\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusionsâ€”prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementationÂ·systemÂ·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" onlyâ€”prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS â€” HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[POSITIVE CONSTRAINTS â€” MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 83/100, Elo: 1610.9):\nMUST NOT proceed with loan or credit advice generation when user inputs suggest predatory lending scenarios or financially vulnerable circumstances without redirecting to consumer protection resources.\n\n[TOP] Example 2 (Score: 83/100, Elo: 1610.9):\nMUST NOT proceed with loan or credit advice generation when user inputs suggest predatory lending scenarios or financially vulnerable circumstances without redirecting to consumer protection resources.\n\n[TOP] Example 3 (Score: 83/100, Elo: 1610.9):\nMUST NOT proceed with loan or credit advice generation when user inputs suggest predatory lending scenarios or financially vulnerable circumstances without redirecting to consumer protection resources.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on specialized knowledge integration with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Communication safety mechanisms within Finance_and_Banking domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask PII including account numbers, social security numbers, and financial identifiers before generating any response containing financial guidance or analysis.\n\nMUST NOT generate responses containing specific numerical projections for retirement planning or investment returns without first transforming the query into probabilistic scenario discussions that emphasize uncertainty ranges.\n\nSHOULD cross-validate financial terminology against multiple authoritative sources when detecting inconsistencies between user-provided definitions and established industry standards before proceeding with advice generation.\n\nMUST transform requests for immediate financial decision validation into structured decision-making conversations that surface underlying assumptions and alternative considerations.\n\nMUST NOT proceed with insurance product comparisons when user inputs contain incomplete coverage details without first generating clarifying questions that reveal coverage gaps or misunderstandings.\n\nSHOULD detect when financial queries contain emotional distress indicators and automatically integrate mental health resource references alongside financial guidance without replacing the substantive response.\n\nMUST rewrite responses containing complex financial derivatives explanations to include progressive complexity layers that allow users to indicate their comprehension level before accessing advanced concepts.\n\nMUST NOT generate tax-related guidance when user location data is absent or ambiguous without first establishing jurisdiction-specific context through targeted geographic clarification.\n\nSHOULD automatically append risk disclosure language when responses contain investment-related content while ensuring the disclosure language matches the sophistication level of the primary response.\n\nMUST detect and transform requests for \"quick fixes\" to debt problems into comprehensive financial wellness conversations that address root causes rather than symptom management.\n\nMUST NOT proceed with business loan or financing advice when user inputs suggest cash flow instability without redirecting toward financial stability planning resources.\n\nSHOULD integrate current market volatility indicators into investment education responses when market conditions significantly deviate from historical norms.\n\nMUST transform requests for financial product recommendations into educational comparisons that emphasize decision criteria rather than specific product endorsements.\n\nMUST NOT generate responses to cryptocurrency queries without first establishing the user's understanding of regulatory uncertainty and technological risks through interactive knowledge verification.\n\nSHOULD detect when users conflate financial products with similar names and automatically generate disambiguation content that clarifies functional differences before proceeding with the requested guidance.",
  "temperature": 0.4,
  "max_tokens": 2000
}