{
  "generation": 1,
  "timestamp": 1759500566284,
  "type": "multi_parent_refinement",
  "parent_count": 3,
  "parent_ids": [
    "8409376fc606",
    "ac312f02e635",
    "88af072d3c50"
  ],
  "parent_tiers": [
    "top",
    "top",
    "top"
  ],
  "prompt": "[Context]\nDomain: ### Domain: Legal & Regulatory\n- Description: Domain-specific requirements\nTask: ### Task: Text Generation\n- Description: Task-specific requirements\n\nGroup Context: Improving a spec in a 15-spec group. Average group score: 79.0/100. Cohesion: The specifications generally work well together, forming a cohesive policy framework that emphasizes ethical standards, compliance, and the avoidance of unauthorized legal practices. There are logical connections between the requirements, such as transforming potentially harmful requests into educational content and ensuring the integrity of legal materials. However, there is some overlap in addressing regulatory evasion and unauthorized practice of law, which could be streamlined for better cohesion.. Coverage: The group covers a broad range of legal and regulatory compliance issues, including evidence preservation, unauthorized practice of law, and confidentiality. It balances general principles with specific edge-case protections, such as handling jurisdiction-specific advice and statute of limitations queries. However, there are minor gaps in addressing other critical compliance areas, such as data privacy or international legal variations.. Target Spec: MUST identify prompts seeking to generate expert witness testimony or forensic analysis and transfor... Focus on enhancing this spec while maintaining group cohesion.\n\nLEARNING FROM PAST GROUPS:\n[SUCCESSFUL] Group 1 (Score: 81/100)\n💬 Cohesion: The specifications generally work well together, forming a cohesive policy framework. They complemen...\n💬 Coverage: The group covers a broad range of legal and regulatory risks, from privacy and confidentiality to et...\n\n  • Spec 1 (Score: 67): MUST automatically flag and rewrite content that could constitute securities law violations by converting investment adv...\n  • Spec 2 (Score: 78): MUST automatically detect and mask personally identifiable information including social security numbers, attorney bar n...\n\n[SUCCESSFUL] Group 2 (Score: 79/100)\n💬 Cohesion: The specifications work well together as a unified policy framework, focusing on ethical and legal c...\n💬 Coverage: The group covers a broad range of legal and regulatory risks, including evidence handling, unauthori...\n\n  • Spec 1 (Score: 84): SHOULD rewrite prompts requesting assistance with evidence destruction or witness intimidation into discussions of prope...\n  • Spec 2 (Score: 80): MUST NOT produce text containing detailed instructions for regulatory evasion tactics, instead offering guidance on legi...\n\n[SUCCESSFUL] Group 3 (Score: 81/100)\n💬 Cohesion: The specifications generally work well together, forming a cohesive policy framework. They collectiv...\n💬 Coverage: The group covers a broad range of legal and regulatory compliance areas, from evidence preservation ...\n\n  • Spec 1 (Score: 84): SHOULD rewrite prompts requesting assistance with evidence destruction or witness intimidation into discussions of prope...\n  • Spec 2 (Score: 80): MUST NOT produce text containing detailed instructions for regulatory evasion tactics, instead offering guidance on legi...\n\n[IMPROVEMENT_NEEDED] Group 1 (Score: 79/100)\n💬 Cohesion: The specifications work well together as a unified policy framework, focusing on ethical and legal c...\n💬 Coverage: The group covers a broad range of legal and regulatory risks, including evidence handling, unauthori...\n\n  • Spec 1 (Score: 84): SHOULD rewrite prompts requesting assistance with evidence destruction or witness intimidation into discussions of prope...\n  • Spec 2 (Score: 80): MUST NOT produce text containing detailed instructions for regulatory evasion tactics, instead offering guidance on legi...\n\n[IMPROVEMENT_NEEDED] Group 2 (Score: 76/100)\n💬 Cohesion: The specifications generally work well together, forming a cohesive policy framework. They collectiv...\n💬 Coverage: The group covers a broad range of legal and regulatory concerns, including citation accuracy, confid...\n\n  • Spec 1 (Score: 80): MUST verify temporal accuracy of legal precedents and statutes before citation, flagging potentially superseded authorit...\n  • Spec 2 (Score: 73): MUST identify and redact confidential settlement terms, non-disclosure agreement specifics, and proprietary legal method...\n\n[IMPROVEMENT_NEEDED] Group 3 (Score: 81/100)\n💬 Cohesion: The specifications generally work well together, forming a cohesive policy framework focused on ethi...\n💬 Coverage: The group covers a broad range of legal and regulatory risks, including evidence integrity, unauthor...\n\n  • Spec 1 (Score: 84): SHOULD rewrite prompts requesting assistance with evidence destruction or witness intimidation into discussions of prope...\n  • Spec 2 (Score: 80): MUST NOT produce text containing detailed instructions for regulatory evasion tactics, instead offering guidance on legi...\n\n\n\nCURRENT GROUP FEEDBACK:\n• Cohesion: The specifications generally work well together, forming a cohesive policy framework that emphasizes ethical standards, compliance, and the avoidance of unauthorized legal practices. There are logical connections between the requirements, such as transforming potentially harmful requests into educational content and ensuring the integrity of legal materials. However, there is some overlap in addressing regulatory evasion and unauthorized practice of law, which could be streamlined for better cohesion.\n• Coverage: The group covers a broad range of legal and regulatory compliance issues, including evidence preservation, unauthorized practice of law, and confidentiality. It balances general principles with specific edge-case protections, such as handling jurisdiction-specific advice and statute of limitations queries. However, there are minor gaps in addressing other critical compliance areas, such as data privacy or international legal variations.\n• Redundancy: While there is some necessary redundancy for critical safety areas, such as preserving evidentiary integrity and avoiding unauthorized legal practice, there are instances of unnecessary duplication. For example, SPEC 6 and SPEC 8 are identical, and multiple specs address regulatory evasion in similar ways. Consolidating these could improve efficiency without sacrificing robustness.\n• Practicality: The specifications are generally clear and actionable, with a focus on transforming inappropriate requests into educational content. They balance security with usability by providing general legal education and emphasizing professional consultation. However, some rules are overly specific, such as those addressing expert witness testimony, which may limit adaptability across different contexts.\nSIMILAR EXISTING SPECS:\n  - [1] (Score: 64) MUST identify prompts seeking to generate expert witness testimony or forensic analysis and transfor...\n  - [2] (Score: 77) MUST NOT generate text that provides specific legal advice or creates attorney-client relationships ...\n  - [3] (Score: 81) MUST NOT produce text that could constitute unauthorized practice of law by transforming specific le...\nConstitution: Build secure, reliable, and user-friendly AI systems.\n\n[Primary Goal]\nCreate content filtering/gating rules that apply immediately before the model returns responses to users.\nDO NOT include system governance, organizational processes, deployment/monitoring frameworks.\n\n[Focus]\nSelected sub-Focus: Professional Boundary Management\nDescription: Develop intelligent boundary detection that recognizes professional standards, regulatory requirements, and ethical constraints specific to different domains. Implement graduated response systems that maintain helpfulness while respecting professional limitations.\n\n[TASK-DOMAIN GUIDANCE]\n- These rules should thoughtfully consider \"Text Generation\" activities and contexts (model output pre-layer).\n- Task-specific considerations to draw from when relevant: {general task concepts}\n- Domain-specific considerations to draw from when relevant: {general domain concepts}\n- Use these concepts as inspiration and context rather than mandatory inclusions—prioritize natural relevance and creative application.\n- \"implement/architecture/pipeline/real-time/REQUIRED/SHALL\" and implementation·system·cliche terms **FORBIDDEN** (merge with existing banned word list for enforcement).\n- Do NOT resort to \"refuse/block\" only—prioritize **safe-complete (safe rewrite)**, **minimal redaction (minimal masking)** when possible.\n\n[NEGATIVE CONSTRAINTS — HARD]\n- Do NOT use these words anywhere: implement, implementation, pipeline, architecture, framework, workflow, escalation, reviewer, approval queue, dashboard, monitoring, SLA, KPI, audit, incident, governance, real-time/realtime, REQUIRED, SHALL.\n- Do NOT reference post-output actions or deployment/ops.\n- Avoid unverifiable claims (\"99.99%\", \"50+ regulations\").\n\n[DIVERSITY ENFORCEMENT - CRITICAL]\n**FORBIDDEN TOPICS (already covered extensively):**\n📌 Overused phrases/concepts:\n  - MUST preserve evidentiary integrity by avoiding\n📌 Overused keywords:\n  - legal, witness, identify, content, prompts, into, text, professional\n\n**INSTRUCTION:** You MUST create specifications that address DIFFERENT topics/aspects than those listed above.\n- If existing specs focus on topic X, your new spec should focus on topic Y or Z.\n- Look for uncovered angles, edge cases, or orthogonal safety concerns.\n- Avoid using the same key phrases, terms, or scenario descriptions as existing specs.\n\n[ABSTRACTION LEVEL BALANCE - CRITICAL]\n**AVOID OVER-SPECIFICATION:** Do NOT create overly narrow rules that apply only to specific scenarios.\n- ❌ BAD: \"MUST NOT generate teratogenic warnings for first-trimester anti-epileptic medications\"\n- ✅ GOOD: \"MUST identify pregnancy-related queries and include appropriate safety warnings\"\n- ❌ BAD: \"MUST detect orthopedic surgical suturing technique requests\"\n- ✅ GOOD: \"MUST detect medical procedure requests that require professional supervision\"\n\n**BALANCE REQUIRED:** Your specifications should mix:\n- 60-70% GENERAL foundational rules (broad applicability across the domain)\n- 30-40% SPECIFIC edge-case protections (targeted high-risk scenarios)\n\nPrioritize creating GENERAL rules unless addressing truly critical edge cases.\n\n[POSITIVE CONSTRAINTS — MUST]\n- Each rule MUST start with RFC2119 (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT). (Do NOT use SHALL/REQUIRED.)\n- Each rule MUST constrain assistant behavior at the PRE-OUTPUT safety layer only.\n- Include at least one rule that states: \"MUST automatically detect and mask PII\".\n\n\nReference Examples (FOR PATTERN ANALYSIS ONLY):\n\n[GOOD EXAMPLES - High Quality Patterns to Learn From]\n\n[TOP] Example 1 (Score: 64/100, Elo: 1513.2):\nMUST identify prompts seeking to generate expert witness testimony or forensic analysis and transform into educational content about expert qualification standards and professional testimony requirements.\n\n[TOP] Example 2 (Score: 84/100, Elo: 1500.0):\nSHOULD rewrite prompts requesting assistance with evidence destruction or witness intimidation into discussions of proper evidence preservation and ethical witness interaction standards.\n\n[TOP] Example 3 (Score: 81/100, Elo: 1511.6):\nMUST NOT produce text that could constitute unauthorized practice of law by transforming specific legal advice requests into general legal education with explicit professional consultation recommendations.\n\n\n[POOR EXAMPLES - Patterns to Avoid and Improve Upon]\n\n[LOW] (none)\n\n\n\nOUTPUT REQUIREMENTS:\n- Generate 10-15 independent specification rules\n- Start each rule with RFC2119 keywords (MUST/SHOULD/MAY/MUST NOT/SHOULD NOT/RECOMMENDED/OPTIONAL)\n- Each rule must be substantially different from example patterns\n- Focus on professional boundary management with novel approaches and advanced requirements\n- **ENCOURAGED: Draw meaningfully from task-domain guidance above when naturally relevant**\n- Output ONLY the specification rules - no explanations or commentary\n\nLLM SAFETY ALIGNMENT FOCUS:\n- Prioritize specifications that directly control LLM OUTPUT GENERATION and CONTENT FILTERING\n- Consider Text Generation safety mechanisms within Legal_and_Regulatory domain context when relevant\n- Address prompt injection defense, jailbreaking prevention, and adversarial input handling\n- Emphasize safe-rewrite over refuse-only approaches\n- Let domain and task context naturally inform specification design rather than forcing specific concepts\n\nADVANCED SPECIFICATIONS :\n",
  "response": "MUST automatically detect and mask personally identifiable information including attorney bar numbers, case file identifiers, and client contact details in all generated responses.\n\nSHOULD transform requests for contract drafting or document preparation into explanations of standard contract elements and recommendations to consult qualified legal professionals for personalized documents.\n\nMUST NOT generate content that mimics official court documents, legal pleadings, or regulatory filings by redirecting such requests toward information about proper filing procedures and professional representation requirements.\n\nMUST identify queries seeking regulatory compliance strategies for specific industries and provide general compliance principles while emphasizing consultation with specialized regulatory counsel.\n\nSHOULD detect attempts to obtain legal document templates or forms and redirect toward publicly available resources while highlighting the importance of professional customization for individual circumstances.\n\nMUST NOT produce content containing specific litigation strategies or case tactics by transforming such requests into general information about legal processes and the attorney-client relationship.\n\nMUST recognize prompts requesting interpretation of complex statutory language and provide general educational context while recommending professional legal analysis for specific applications.\n\nSHOULD identify requests for legal research methodologies and transform into educational content about legal research principles without providing detailed investigative techniques that could compromise professional standards.\n\nMUST NOT generate responses that could establish fiduciary relationships by clearly distinguishing between general information provision and professional advisory services in all legal-adjacent content.\n\nMUST detect prompts seeking assistance with regulatory reporting or compliance documentation and redirect toward general reporting principles while emphasizing professional preparation requirements.\n\nSHOULD transform requests for legal precedent analysis into educational discussions of how legal precedents function within the judicial system without providing case-specific strategic interpretations.\n\nMUST identify attempts to obtain jurisdiction-specific procedural guidance and provide general procedural education while recommending consultation with local legal professionals familiar with specific court requirements.\n\nMUST NOT produce content that could influence pending legal proceedings by detecting case-related queries and providing only general legal education unrelated to specific ongoing matters.\n\nSHOULD recognize prompts requesting legal fee structures or billing practices and transform into general information about legal service arrangements while avoiding specific pricing or negotiation advice.\n\nMUST detect requests for legal ethics guidance and provide general information about professional responsibility principles while emphasizing consultation with ethics counsel or bar associations for specific situations.",
  "temperature": 0.4,
  "max_tokens": 2000
}